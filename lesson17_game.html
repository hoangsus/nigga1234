<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>√în luy·ªán ti·∫øng ƒê·ª©c - Ch∆∞∆°ng 1: Jenny</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 30px;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 30px;
        flex-wrap: wrap;
      }

      .btn {
        background: #4caf50;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 16px;
        transition: all 0.3s;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      .btn:hover {
        background: #45a049;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .btn.active {
        background: #ff6b6b;
      }

      .story-container {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        margin-bottom: 20px;
      }

      .sentence {
        margin: 15px 0;
        padding: 15px;
        border-radius: 10px;
        border-left: 4px solid #667eea;
        background: #f8f9ff;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .sentence:hover {
        background: #e8ebff;
        transform: translateX(5px);
      }

      .sentence-content {
        flex: 1;
      }

      .sentence-image {
        width: 80px;
        height: 80px;
        border-radius: 10px;
        object-fit: cover;
        border: 2px solid #667eea;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s;
      }

      .sentence-image:hover {
        transform: scale(1.1);
      }

      .german {
        font-size: 18px;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 8px;
      }

      .vietnamese {
        font-size: 16px;
        color: #7f8c8d;
        font-style: italic;
      }

      .hidden {
        opacity: 0;
        height: 0;
        overflow: hidden;
        margin: 0;
      }

      .quiz-container {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        margin-top: 20px;
        display: none;
      }

      .quiz-question {
        font-size: 18px;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 15px;
      }

      .quiz-input {
        width: 100%;
        padding: 15px;
        border: 2px solid #ddd;
        border-radius: 10px;
        font-size: 16px;
        margin-bottom: 15px;
      }

      .quiz-feedback {
        padding: 15px;
        border-radius: 10px;
        margin: 15px 0;
        font-weight: bold;
      }

      .correct {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }

      .incorrect {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }

      .progress {
        width: 100%;
        height: 20px;
        background: #e0e0e0;
        border-radius: 10px;
        overflow: hidden;
        margin: 20px 0;
      }

      .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #4caf50, #45a049);
        width: 0%;
        transition: width 0.3s;
      }

      .stats {
        display: flex;
        justify-content: space-around;
        background: white;
        border-radius: 15px;
        padding: 20px;
        margin-top: 20px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .stat {
        text-align: center;
      }

      .stat-number {
        font-size: 2em;
        font-weight: bold;
        color: #667eea;
      }

      .stat-label {
        color: #7f8c8d;
        font-size: 14px;
      }

      @media (max-width: 768px) {
        .container {
          padding: 10px;
        }

        .header h1 {
          font-size: 2em;
        }

        .controls {
          flex-direction: column;
          align-items: center;
        }

        .btn {
          width: 200px;
        }

        .sentence {
          flex-direction: column;
          text-align: center;
        }

        .sentence-image {
          width: 120px;
          height: 120px;
          margin-top: 10px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üìö √în luy·ªán ti·∫øng ƒê·ª©c</h1>
        <p>Ch∆∞∆°ng 1: Jenny - N·ªØ di·ªÖn vi√™n v√† chi·∫øc t·ªß l·∫°nh h·ªèng</p>
      </div>

      <div class="controls">
        <button class="btn" onclick="showGerman()">Ch·ªâ ti·∫øng ƒê·ª©c</button>
        <button class="btn" onclick="showVietnamese()">Ch·ªâ ti·∫øng Vi·ªát</button>
        <button class="btn" onclick="showBoth()">Hi·ªán c·∫£ hai</button>
        <button class="btn" onclick="toggleImages()">·∫®n/Hi·ªán ·∫£nh</button>
        <button class="btn" onclick="startQuiz()">B√†i ki·ªÉm tra</button>
        <button class="btn" onclick="resetProgress()">Reset ti·∫øn ƒë·ªô</button>
      </div>

      <div class="story-container" id="storyContainer">
        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Jenny ist Schauspielerin.</div>
            <div class="vietnamese">Jenny l√† m·ªôt n·ªØ di·ªÖn vi√™n.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1594736797933-d0d62181d4d3?w=150&h=150&fit=crop"
            alt="Actress"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Sie ist 30 Jahre alt und wohnt in M√ºnchen.</div>
            <div class="vietnamese">C√¥ ·∫•y 30 tu·ªïi v√† s·ªëng ·ªü Munich.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1595435742656-5272d0b3fa2e?w=150&h=150&fit=crop"
            alt="Munich city"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Heute Morgen ist sie in gro√üer Eile.</div>
            <div class="vietnamese">S√°ng nay c√¥ ·∫•y r·∫•t v·ªôi v√†ng.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=150&h=150&fit=crop"
            alt="Rushing woman"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Um neun Uhr muss sie im Studio sein.</div>
            <div class="vietnamese">L√∫c 9 gi·ªù c√¥ ·∫•y ph·∫£i c√≥ m·∫∑t ·ªü studio.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?w=150&h=150&fit=crop"
            alt="TV Studio"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              Gerade noch Zeit f√ºr ein schnelles Fr√ºhst√ºck.
            </div>
            <div class="vietnamese">
              Ch·ªâ c√≤n th·ªùi gian cho m·ªôt b·ªØa s√°ng nhanh.
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1533089860892-a7c6f0a88666?w=150&h=150&fit=crop"
            alt="Quick breakfast"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Sie geht in die K√ºche.</div>
            <div class="vietnamese">C√¥ ·∫•y ƒëi v√†o b·∫øp.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=150&h=150&fit=crop"
            alt="Kitchen"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Was ist das?</div>
            <div class="vietnamese">C√°i g√¨ th·∫ø n√†y?</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop"
            alt="Confused woman"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Vor dem K√ºhlschrank ist der Boden nass!</div>
            <div class="vietnamese">Tr∆∞·ªõc t·ªß l·∫°nh, s√†n nh√† ∆∞·ªõt!</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=150&h=150&fit=crop"
            alt="Wet floor"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Sie √∂ffnet den K√ºhlschrank - dunkel.</div>
            <div class="vietnamese">C√¥ ·∫•y m·ªü t·ªß l·∫°nh - t·ªëi.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=150&h=150&fit=crop"
            alt="Open dark refrigerator"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Drinnen ist es nicht kalt.</div>
            <div class="vietnamese">B√™n trong kh√¥ng l·∫°nh.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=150&h=150&fit=crop"
            alt="Warm temperature"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              Die Butter ist weich, die Milch ist sauer...
            </div>
            <div class="vietnamese">B∆° ƒë√£ m·ªÅm, s·ªØa ƒë√£ chua...</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1550583724-b2692b85b150?w=150&h=150&fit=crop"
            alt="Spoiled food"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Der K√ºhlschrank ist kaputt.</div>
            <div class="vietnamese">T·ªß l·∫°nh b·ªã h·ªèng.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=150&h=150&fit=crop"
            alt="Broken refrigerator"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">"So ein Mist!"</div>
            <div class="vietnamese">"Th·∫≠t t·ªá!"</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1551836022-d5d88e9218df?w=150&h=150&fit=crop"
            alt="Frustrated woman"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              Jenny l√§uft zur Bushaltestelle und kauft am Kiosk eine
              Tageszeitung.
            </div>
            <div class="vietnamese">
              Jenny ch·∫°y ƒë·∫øn tr·∫°m xe bu√Ωt v√† mua m·ªôt t·ªù b√°o h√†ng ng√†y ·ªü ki-·ªët.
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=150&h=150&fit=crop"
            alt="Bus stop and newspaper"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              "Vielleicht finde ich ja einen billigen K√ºhlschrank."
            </div>
            <div class="vietnamese">
              "C√≥ th·ªÉ t√¥i s·∫Ω t√¨m ƒë∆∞·ª£c m·ªôt c√°i t·ªß l·∫°nh r·∫ª."
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=150&h=150&fit=crop"
            alt="Cheap appliances"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              "In der Pause werde ich mal die Anzeigen lesen."
            </div>
            <div class="vietnamese">
              "Trong gi·ªù ngh·ªâ t√¥i s·∫Ω ƒë·ªçc c√°c qu·∫£ng c√°o."
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=150&h=150&fit=crop"
            alt="Reading newspaper ads"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              Der Bus kommt und eine halbe Stunde sp√§ter ist Jenny im Studio.
            </div>
            <div class="vietnamese">
              Xe bu√Ωt ƒë·∫øn v√† n·ª≠a ti·∫øng sau Jenny ƒë√£ c√≥ m·∫∑t ·ªü studio.
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=150&h=150&fit=crop"
            alt="Bus arriving"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Der Vormittag ist anstrengend.</div>
            <div class="vietnamese">Bu·ªïi s√°ng th·∫≠t m·ªát m·ªèi.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1607013251379-e6eecfffe234?w=150&h=150&fit=crop"
            alt="Tired working"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Um 12 Uhr ist Mittagspause.</div>
            <div class="vietnamese">L√∫c 12 gi·ªù l√† gi·ªù ngh·ªâ tr∆∞a.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1508739773434-c26b3d09e071?w=150&h=150&fit=crop"
            alt="Lunch break clock"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              Jenny freut sich auf die Pause - sie hat Hunger.
            </div>
            <div class="vietnamese">Jenny mong ch·ªù gi·ªù ngh·ªâ - c√¥ ·∫•y ƒë√≥i.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=150&h=150&fit=crop"
            alt="Hungry woman"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              Sie hat den ganzen Tag noch nichts gegessen.
            </div>
            <div class="vietnamese">C√¥ ·∫•y ch∆∞a ƒÉn g√¨ c·∫£ ng√†y.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1584464491033-06628f3a6b7b?w=150&h=150&fit=crop"
            alt="Empty stomach"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">"Aber zuerst suche ich einen K√ºhlschrank!"</div>
            <div class="vietnamese">
              "Nh∆∞ng tr∆∞·ªõc ti√™n t√¥i ph·∫£i t√¨m m·ªôt c√°i t·ªß l·∫°nh!"
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=150&h=150&fit=crop"
            alt="Searching for refrigerator"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              Sie setzt sich ins B√ºro und liest die Anzeigen.
            </div>
            <div class="vietnamese">
              C√¥ ·∫•y ng·ªìi v√†o vƒÉn ph√≤ng v√† ƒë·ªçc c√°c qu·∫£ng c√°o.
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1497215728101-856f4ea42174?w=150&h=150&fit=crop"
            alt="Office reading"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">In der Zeitung gibt es viele Angebote.</div>
            <div class="vietnamese">Trong t·ªù b√°o c√≥ nhi·ªÅu ∆∞u ƒë√£i.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1586953208448-b95a79798f07?w=150&h=150&fit=crop"
            alt="Newspaper offers"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Sie markiert die interessanten Anzeigen.</div>
            <div class="vietnamese">C√¥ ·∫•y ƒë√°nh d·∫•u nh·ªØng qu·∫£ng c√°o th√∫ v·ªã.</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1590736969955-71cc94901144?w=150&h=150&fit=crop"
            alt="Marking ads"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              "Hallo, Jenny! Warum isst du nicht mit uns?"
            </div>
            <div class="vietnamese">
              "Ch√†o Jenny! T·∫°i sao b·∫°n kh√¥ng ƒÉn v·ªõi ch√∫ng t√¥i?"
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=150&h=150&fit=crop"
            alt="Colleagues talking"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              "Ich komme gleich. Aber zuerst muss ich noch die Anzeigen lesen."
            </div>
            <div class="vietnamese">
              "T√¥i ƒë·∫øn ngay. Nh∆∞ng tr∆∞·ªõc ti√™n t√¥i ph·∫£i ƒë·ªçc c√°c qu·∫£ng c√°o."
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=150&h=150&fit=crop"
            alt="Busy reading"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">Ihr Kollege Dezs≈ë ist neugierig:</div>
            <div class="vietnamese">ƒê·ªìng nghi·ªáp c·ªßa c√¥ ·∫•y, Dezs≈ë, t√≤ m√≤:</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop"
            alt="Curious colleague"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">"Was suchst du denn?"</div>
            <div class="vietnamese">"B·∫°n ƒëang t√¨m g√¨ th·∫ø?"</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop"
            alt="Asking question"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              "Einen K√ºhlschrank", antwortet Jenny kurz und liest schon wieder
              weiter.
            </div>
            <div class="vietnamese">
              "M·ªôt c√°i t·ªß l·∫°nh", Jenny tr·∫£ l·ªùi ng·∫Øn g·ªçn v√† l·∫°i ti·∫øp t·ª•c ƒë·ªçc.
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=150&h=150&fit=crop"
            alt="Refrigerator answer"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">
              "Hier, die ist interessant: 150 Euro. Da rufe ich gleich mal an."
            </div>
            <div class="vietnamese">
              "N√†y, c√°i n√†y th√∫ v·ªã: 150 Euro. T√¥i s·∫Ω g·ªçi ƒëi·ªán ngay."
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1596526131083-e8c633c948d2?w=150&h=150&fit=crop"
            alt="Phone call"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">"Jetzt?" fragt Dezs≈ë erstaunt.</div>
            <div class="vietnamese">
              "B√¢y gi·ªù √†?" Dezs≈ë h·ªèi m·ªôt c√°ch ng·∫°c nhi√™n.
            </div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop"
            alt="Surprised expression"
            class="sentence-image"
          />
        </div>

        <div class="sentence">
          <div class="sentence-content">
            <div class="german">"Ja, klar, sonst ist er weg."</div>
            <div class="vietnamese">"·ª™, ƒë√∫ng r·ªìi, kh√¥ng th√¨ n√≥ s·∫Ω m·∫•t."</div>
          </div>
          <img
            src="https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=150&h=150&fit=crop"
            alt="Urgent action"
            class="sentence-image"
          />
        </div>
      </div>

      <div class="quiz-container" id="quizContainer">
        <h3>üß† B√†i ki·ªÉm tra</h3>
        <div class="progress">
          <div class="progress-bar" id="progressBar"></div>
        </div>
        <div id="quizContent">
          <div class="quiz-question" id="questionText"></div>
          <input
            type="text"
            class="quiz-input"
            id="answerInput"
            placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n..."
          />
          <button class="btn" onclick="checkAnswer()">Ki·ªÉm tra</button>
          <button class="btn" onclick="nextQuestion()">C√¢u ti·∫øp theo</button>
          <button class="btn" onclick="showHint()">G·ª£i √Ω</button>
          <div id="feedback"></div>
        </div>
      </div>

      <div class="stats">
        <div class="stat">
          <div class="stat-number" id="correctAnswers">0</div>
          <div class="stat-label">ƒê√∫ng</div>
        </div>
        <div class="stat">
          <div class="stat-number" id="totalAnswers">0</div>
          <div class="stat-label">T·ªïng s·ªë</div>
        </div>
        <div class="stat">
          <div class="stat-number" id="accuracy">0%</div>
          <div class="stat-label">ƒê·ªô ch√≠nh x√°c</div>
        </div>
      </div>
    </div>

    <script>
      // Data for quiz
      const sentences = [
        {
          german: "Jenny ist Schauspielerin.",
          vietnamese: "Jenny l√† m·ªôt n·ªØ di·ªÖn vi√™n.",
        },
        {
          german: "Sie ist 30 Jahre alt und wohnt in M√ºnchen.",
          vietnamese: "C√¥ ·∫•y 30 tu·ªïi v√† s·ªëng ·ªü Munich.",
        },
        {
          german: "Heute Morgen ist sie in gro√üer Eile.",
          vietnamese: "S√°ng nay c√¥ ·∫•y r·∫•t v·ªôi v√†ng.",
        },
        {
          german: "Um neun Uhr muss sie im Studio sein.",
          vietnamese: "L√∫c 9 gi·ªù c√¥ ·∫•y ph·∫£i c√≥ m·∫∑t ·ªü studio.",
        },
        {
          german: "Der K√ºhlschrank ist kaputt.",
          vietnamese: "T·ªß l·∫°nh b·ªã h·ªèng.",
        },
        { german: "Sie geht in die K√ºche.", vietnamese: "C√¥ ·∫•y ƒëi v√†o b·∫øp." },
        {
          german: "Die Butter ist weich, die Milch ist sauer.",
          vietnamese: "B∆° ƒë√£ m·ªÅm, s·ªØa ƒë√£ chua.",
        },
        {
          german: "Jenny freut sich auf die Pause.",
          vietnamese: "Jenny mong ch·ªù gi·ªù ngh·ªâ.",
        },
        { german: "Was suchst du denn?", vietnamese: "B·∫°n ƒëang t√¨m g√¨ th·∫ø?" },
        { german: "Einen K√ºhlschrank", vietnamese: "M·ªôt c√°i t·ªß l·∫°nh" },
      ];

      let currentQuestion = 0;
      let correctAnswers = 0;
      let totalAnswers = 0;
      let quizMode = "germanToVietnamese"; // or 'vietnameseToGerman'
      let imagesVisible = true;

      function toggleImages() {
        imagesVisible = !imagesVisible;
        document.querySelectorAll(".sentence-image").forEach((el) => {
          el.style.display = imagesVisible ? "block" : "none";
        });
      }

      function showGerman() {
        document
          .querySelectorAll(".vietnamese")
          .forEach((el) => el.classList.add("hidden"));
        document
          .querySelectorAll(".german")
          .forEach((el) => el.classList.remove("hidden"));
        document
          .querySelectorAll(".sentence-image")
          .forEach((el) => (el.style.display = "block"));
        updateButtonStates("german");
      }

      function showVietnamese() {
        document
          .querySelectorAll(".german")
          .forEach((el) => el.classList.add("hidden"));
        document
          .querySelectorAll(".vietnamese")
          .forEach((el) => el.classList.remove("hidden"));
        document
          .querySelectorAll(".sentence-image")
          .forEach((el) => (el.style.display = "block"));
        updateButtonStates("vietnamese");
      }

      function showBoth() {
        document
          .querySelectorAll(".german, .vietnamese")
          .forEach((el) => el.classList.remove("hidden"));
        document
          .querySelectorAll(".sentence-image")
          .forEach((el) => (el.style.display = "block"));
        updateButtonStates("both");
      }

      function updateButtonStates(active) {
        document
          .querySelectorAll(".btn")
          .forEach((btn) => btn.classList.remove("active"));
        // Add active class based on the mode if needed
      }

      function startQuiz() {
        document.getElementById("storyContainer").style.display = "none";
        document.getElementById("quizContainer").style.display = "block";
        currentQuestion = 0;
        showQuestion();
      }

      function showQuestion() {
        if (currentQuestion >= sentences.length) {
          showResults();
          return;
        }

        const sentence = sentences[currentQuestion];
        const questionText = document.getElementById("questionText");

        if (Math.random() > 0.5) {
          questionText.innerHTML = `D·ªãch sang ti·∫øng Vi·ªát: <br><strong>${sentence.german}</strong>`;
          quizMode = "germanToVietnamese";
        } else {
          questionText.innerHTML = `D·ªãch sang ti·∫øng ƒê·ª©c: <br><strong>${sentence.vietnamese}</strong>`;
          quizMode = "vietnameseToGerman";
        }

        document.getElementById("answerInput").value = "";
        document.getElementById("feedback").innerHTML = "";

        updateProgress();
      }

      function checkAnswer() {
        const userAnswer = document
          .getElementById("answerInput")
          .value.trim()
          .toLowerCase();
        const sentence = sentences[currentQuestion];

        let correctAnswer =
          quizMode === "germanToVietnamese"
            ? sentence.vietnamese
            : sentence.german;
        correctAnswer = correctAnswer.toLowerCase();

        const feedback = document.getElementById("feedback");

        // Simple similarity check (you can make this more sophisticated)
        const similarity = calculateSimilarity(userAnswer, correctAnswer);

        if (similarity > 0.7) {
          feedback.innerHTML = `<div class="correct">‚úÖ Ch√≠nh x√°c! <br>ƒê√°p √°n: ${
            quizMode === "germanToVietnamese"
              ? sentence.vietnamese
              : sentence.german
          }</div>`;
          correctAnswers++;
        } else {
          feedback.innerHTML = `<div class="incorrect">‚ùå Ch∆∞a ch√≠nh x√°c. <br>ƒê√°p √°n ƒë√∫ng: ${
            quizMode === "germanToVietnamese"
              ? sentence.vietnamese
              : sentence.german
          }</div>`;
        }

        totalAnswers++;
        updateStats();
      }

      function nextQuestion() {
        currentQuestion++;
        showQuestion();
      }

      function showHint() {
        const sentence = sentences[currentQuestion];
        const hint =
          quizMode === "germanToVietnamese"
            ? `G·ª£i √Ω: C√¢u n√†y n√≥i v·ªÅ ${sentence.vietnamese.substring(0, 10)}...`
            : `G·ª£i √Ω: B·∫Øt ƒë·∫ßu b·∫±ng "${sentence.german.substring(0, 5)}..."`;

        document.getElementById(
          "feedback"
        ).innerHTML = `<div style="background: #fff3cd; color: #856404; padding: 10px; border-radius: 5px;">${hint}</div>`;
      }

      function calculateSimilarity(str1, str2) {
        // Simple word matching algorithm
        const words1 = str1.split(" ");
        const words2 = str2.split(" ");
        let matches = 0;

        words1.forEach((word) => {
          if (words2.some((w) => w.includes(word) || word.includes(w))) {
            matches++;
          }
        });

        return matches / Math.max(words1.length, words2.length);
      }

      function updateProgress() {
        const progress = (currentQuestion / sentences.length) * 100;
        document.getElementById("progressBar").style.width = progress + "%";
      }

      function updateStats() {
        document.getElementById("correctAnswers").textContent = correctAnswers;
        document.getElementById("totalAnswers").textContent = totalAnswers;
        const accuracy =
          totalAnswers > 0
            ? Math.round((correctAnswers / totalAnswers) * 100)
            : 0;
        document.getElementById("accuracy").textContent = accuracy + "%";
      }

      function showResults() {
        const accuracy = Math.round((correctAnswers / totalAnswers) * 100);
        document.getElementById("quizContainer").innerHTML = `
                <h3>üéâ K·∫øt qu·∫£ b√†i ki·ªÉm tra</h3>
                <div style="text-align: center; padding: 30px;">
                    <div style="font-size: 3em; margin-bottom: 20px;">
                        ${accuracy >= 80 ? "üåü" : accuracy >= 60 ? "üëç" : "üí™"}
                    </div>
                    <h2>B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng ${correctAnswers}/${totalAnswers} c√¢u</h2>
                    <p style="font-size: 1.5em; color: #667eea;">ƒê·ªô ch√≠nh x√°c: ${accuracy}%</p>
                    <button class="btn" onclick="restartQuiz()">L√†m l·∫°i</button>
                    <button class="btn" onclick="backToStory()">Quay l·∫°i c√¢u chuy·ªán</button>
                </div>
            `;
      }

      function restartQuiz() {
        currentQuestion = 0;
        correctAnswers = 0;
        totalAnswers = 0;
        updateStats();
        document.getElementById("quizContainer").innerHTML = `
                <h3>üß† B√†i ki·ªÉm tra</h3>
                <div class="progress">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <div id="quizContent">
                    <div class="quiz-question" id="questionText"></div>
                    <input type="text" class="quiz-input" id="answerInput" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n...">
                    <button class="btn" onclick="checkAnswer()">Ki·ªÉm tra</button>
                    <button class="btn" onclick="nextQuestion()">C√¢u ti·∫øp theo</button>
                    <button class="btn" onclick="showHint()">G·ª£i √Ω</button>
                    <div id="feedback"></div>
                </div>
            `;
        showQuestion();
      }

      function backToStory() {
        document.getElementById("storyContainer").style.display = "block";
        document.getElementById("quizContainer").style.display = "none";
      }

      function resetProgress() {
        correctAnswers = 0;
        totalAnswers = 0;
        updateStats();
        alert("ƒê√£ reset ti·∫øn ƒë·ªô h·ªçc t·∫≠p!");
      }

      // Initialize
      showBoth();
      updateStats();

      // Add Enter key support for quiz input
      document.addEventListener("keypress", function (e) {
        if (
          e.key === "Enter" &&
          document.getElementById("quizContainer").style.display !== "none"
        ) {
          if (document.getElementById("answerInput").value.trim() !== "") {
            checkAnswer();
          }
        }
      });
    </script>
  </body>
</html>
