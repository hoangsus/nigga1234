<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ã”n luyá»‡n ngá»¯ phÃ¡p tiáº¿ng Äá»©c</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #ff6b6b, #ffd93d);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.2em;
        opacity: 0.9;
      }

      .nav-tabs {
        display: flex;
        background: #f8f9fa;
        border-bottom: 3px solid #e9ecef;
      }

      .nav-tab {
        flex: 1;
        padding: 15px 10px;
        text-align: center;
        background: none;
        border: none;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        color: #6c757d;
        transition: all 0.3s ease;
        position: relative;
      }

      .nav-tab:hover {
        background: #e9ecef;
        color: #495057;
      }

      .nav-tab.active {
        color: #007bff;
        background: white;
      }

      .nav-tab.active::after {
        content: "";
        position: absolute;
        bottom: -3px;
        left: 0;
        right: 0;
        height: 3px;
        background: #007bff;
      }

      .content {
        padding: 30px;
      }

      .section {
        display: none;
      }

      .section.active {
        display: block;
      }

      .sentence-card {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 20px;
        margin: 15px 0;
        border-left: 5px solid #007bff;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .sentence-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }

      .german-text {
        font-size: 1.3em;
        font-weight: 600;
        color: #333;
        margin-bottom: 10px;
      }

      .vietnamese-text {
        font-size: 1.1em;
        color: #6c757d;
        font-style: italic;
      }

      .quiz-container {
        text-align: center;
      }

      .quiz-card {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border-radius: 20px;
        padding: 40px;
        margin: 20px 0;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      }

      .quiz-question {
        font-size: 1.5em;
        margin-bottom: 30px;
        line-height: 1.6;
      }

      .quiz-answer {
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 15px;
        padding: 15px;
        font-size: 1.1em;
        color: white;
        width: 100%;
        margin: 10px 0;
        backdrop-filter: blur(10px);
      }

      .quiz-answer::placeholder {
        color: rgba(255, 255, 255, 0.7);
      }

      .btn {
        background: linear-gradient(135deg, #ff6b6b, #ffd93d);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-size: 1.1em;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      }

      .btn:active {
        transform: translateY(0);
      }

      .score {
        font-size: 1.3em;
        font-weight: 600;
        margin: 20px 0;
        padding: 15px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 15px;
        backdrop-filter: blur(10px);
      }

      .correct {
        background: linear-gradient(135deg, #28a745, #20c997) !important;
        animation: pulse 0.5s ease;
      }

      .incorrect {
        background: linear-gradient(135deg, #dc3545, #fd7e14) !important;
        animation: shake 0.5s ease;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        75% {
          transform: translateX(5px);
        }
      }

      .category-title {
        font-size: 1.8em;
        font-weight: 700;
        color: #333;
        margin: 30px 0 20px 0;
        text-align: center;
        padding: 15px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .progress-bar {
        background: #e9ecef;
        border-radius: 10px;
        overflow: hidden;
        margin: 20px 0;
      }

      .progress-fill {
        background: linear-gradient(135deg, #28a745, #20c997);
        height: 20px;
        transition: width 0.3s ease;
        border-radius: 10px;
      }

      .tip-card {
        background: linear-gradient(135deg, #f8f9ff, #e3f2fd);
        border-radius: 20px;
        padding: 25px;
        margin: 20px 0;
        border-left: 6px solid #2196f3;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }

      .tip-card h3 {
        color: #1976d2;
        font-size: 1.5em;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .formula {
        background: #fff3e0;
        border-radius: 15px;
        padding: 20px;
        margin: 15px 0;
        border-left: 4px solid #ff9800;
      }

      .formula strong {
        color: #f57c00;
        font-size: 1.1em;
      }

      .formula ul {
        margin: 10px 0 0 20px;
      }

      .formula li {
        margin: 8px 0;
        line-height: 1.6;
      }

      .tip {
        background: #e8f5e8;
        border-radius: 15px;
        padding: 15px;
        margin: 15px 0;
        border-left: 4px solid #4caf50;
        font-weight: 500;
      }

      .modal-table table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .modal-table th {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 15px;
        font-weight: 600;
      }

      .modal-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #e0e0e0;
      }

      .modal-table tr:hover {
        background: #f5f5f5;
      }

      .separable-examples {
        background: #fff8e1;
        border-radius: 15px;
        padding: 20px;
        margin: 15px 0;
        border-left: 4px solid #ffb300;
      }

      .separable-examples ul {
        margin: 10px 0 0 20px;
      }

      .separable-examples li {
        margin: 8px 0;
        font-family: "Courier New", monospace;
      }

      .w-words {
        background: #f3e5f5;
        border-radius: 15px;
        padding: 20px;
        margin: 15px 0;
        border-left: 4px solid #9c27b0;
      }

      .w-words ul {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 10px;
        margin: 15px 0;
        list-style: none;
        padding: 0;
      }

      .w-words li {
        background: white;
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .sentence-tip {
        font-size: 0.95em;
        color: #4a90e2;
        background: #f0f8ff;
        padding: 10px 15px;
        border-radius: 10px;
        margin-top: 12px;
        border-left: 3px solid #4a90e2;
        font-weight: 500;
        line-height: 1.4;
      }

      .memory-tricks {
        background: linear-gradient(135deg, #fff9c4, #f8bbd9);
        border-left-color: #e91e63;
      }

      .memory-section {
        background: rgba(255, 255, 255, 0.7);
        border-radius: 12px;
        padding: 20px;
        margin: 15px 0;
        backdrop-filter: blur(10px);
      }

      .memory-section h4 {
        color: #c2185b;
        margin-bottom: 15px;
        font-size: 1.2em;
      }

      .memory-section ul {
        margin: 10px 0 0 20px;
      }

      .memory-section li {
        margin: 8px 0;
        line-height: 1.6;
      }
      .nav-tab {
        font-size: 12px;
        padding: 12px 5px;
      }

      .header h1 {
        font-size: 2em;
      }

      .content {
        padding: 20px;
      }

      .quiz-card {
        padding: 25px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ğŸ‡©ğŸ‡ª Tiáº¿ng Äá»©c A1 - ÄÃºng 5 tá»«</h1>
        <p>Má»—i cÃ¢u chÃ­nh xÃ¡c 5 tá»« - PhÃ¹ há»£p yÃªu cáº§u giÃ¡o viÃªn</p>
      </div>

      <div class="nav-tabs">
        <button class="nav-tab active" onclick="showSection('review')">
          ğŸ“– Ã”n táº­p
        </button>
        <button class="nav-tab" onclick="showSection('tips')">
          ğŸ’¡ Máº¹o & CÃ´ng thá»©c
        </button>
        <button class="nav-tab" onclick="showSection('quiz-imperative')">
          âš¡ Quiz Cáº§u khiáº¿n
        </button>
        <button class="nav-tab" onclick="showSection('quiz-modal')">
          ğŸ¯ Quiz Äá»™ng tá»« khuyáº¿t thiáº¿u
        </button>
        <button class="nav-tab" onclick="showSection('quiz-separable')">
          ğŸ”„ Quiz Äá»™ng tá»« tÃ¡ch
        </button>
        <button class="nav-tab" onclick="showSection('quiz-questions')">
          â“ Quiz CÃ¢u há»i
        </button>
        <button class="nav-tab" onclick="showSection('quiz-all')">
          ğŸ† Quiz tá»•ng há»£p
        </button>
      </div>

      <div class="content">
        <!-- Tips Section -->
        <div id="tips" class="section">
          <div class="category-title">ğŸ’¡ Máº¹o vÃ  CÃ´ng thá»©c Ngá»¯ phÃ¡p</div>

          <div class="tip-card">
            <h3>âš¡ CÃ¢u cáº§u khiáº¿n (Imperativ)</h3>
            <div class="formula">
              <strong>CÃ´ng thá»©c:</strong>
              <ul>
                <li>
                  <strong>Du-Form:</strong> Äá»™ng tá»« gá»‘c (khÃ´ng "st") + ! <br />
                  <em>VD: gehen â†’ Geh!</em>
                </li>
                <li>
                  <strong>Sie-Form:</strong> Äá»™ng tá»« + Sie + ! <br />
                  <em>VD: Sprechen Sie!</em>
                </li>
                <li>
                  <strong>Ihr-Form:</strong> Äá»™ng tá»« + t + ! <br />
                  <em>VD: Macht!</em>
                </li>
              </ul>
            </div>
            <div class="tip">
              <strong>ğŸ¯ Máº¹o nhá»›:</strong> Cáº§u khiáº¿n = YÃªu cáº§u ai Ä‘Ã³ lÃ m gÃ¬.
              ThÃªm "bitte" Ä‘á»ƒ lá»‹ch sá»± hÆ¡n!
            </div>
          </div>

          <div class="tip-card">
            <h3>ğŸ¯ Äá»™ng tá»« khuyáº¿t thiáº¿u (Modalverben)</h3>
            <div class="formula">
              <strong>CÃ´ng thá»©c:</strong> Chá»§ ngá»¯ + Äá»™ng tá»« khuyáº¿t thiáº¿u + ... +
              Äá»™ng tá»« chÃ­nh (nguyÃªn máº«u) <br />
              <em
                >VD: Ich <strong>kann</strong> Deutsch
                <strong>sprechen</strong>.</em
              >
            </div>
            <div class="modal-table">
              <table>
                <tr>
                  <th>Äá»™ng tá»«</th>
                  <th>Ã nghÄ©a</th>
                  <th>VÃ­ dá»¥</th>
                </tr>
                <tr>
                  <td><strong>kÃ¶nnen</strong></td>
                  <td>cÃ³ thá»ƒ</td>
                  <td>Ich kann schwimmen</td>
                </tr>
                <tr>
                  <td><strong>mÃ¼ssen</strong></td>
                  <td>pháº£i</td>
                  <td>Du musst lernen</td>
                </tr>
                <tr>
                  <td><strong>dÃ¼rfen</strong></td>
                  <td>Ä‘Æ°á»£c phÃ©p</td>
                  <td>Darf ich gehen?</td>
                </tr>
                <tr>
                  <td><strong>wollen</strong></td>
                  <td>muá»‘n</td>
                  <td>Er will essen</td>
                </tr>
                <tr>
                  <td><strong>sollen</strong></td>
                  <td>nÃªn</td>
                  <td>Soll ich helfen?</td>
                </tr>
                <tr>
                  <td><strong>mÃ¶gen</strong></td>
                  <td>thÃ­ch</td>
                  <td>Ich mag Pizza</td>
                </tr>
              </table>
            </div>
            <div class="tip">
              <strong>ğŸ¯ Máº¹o nhá»›:</strong> Äá»™ng tá»« khuyáº¿t thiáº¿u luÃ´n Ä‘i vá»›i Ä‘á»™ng
              tá»« nguyÃªn máº«u á»Ÿ cuá»‘i cÃ¢u!
            </div>
          </div>

          <div class="tip-card">
            <h3>ğŸ”„ Äá»™ng tá»« tÃ¡ch (Trennbare Verben)</h3>
            <div class="formula">
              <strong>CÃ´ng thá»©c:</strong> Chá»§ ngá»¯ + Äá»™ng tá»« chÃ­nh + ... + Tiá»n
              tá»‘ <br />
              <em
                >VD: aufstehen â†’ Ich <strong>stehe</strong> um 7 Uhr
                <strong>auf</strong>.</em
              >
            </div>
            <div class="separable-examples">
              <strong>CÃ¡c Ä‘á»™ng tá»« tÃ¡ch phá»• biáº¿n:</strong>
              <ul>
                <li><strong>aufstehen</strong> = dáº­y â†’ stehe...auf</li>
                <li><strong>anrufen</strong> = gá»i Ä‘iá»‡n â†’ rufe...an</li>
                <li><strong>einkaufen</strong> = mua sáº¯m â†’ kaufe...ein</li>
                <li><strong>zumachen</strong> = Ä‘Ã³ng â†’ mache...zu</li>
                <li><strong>anziehen</strong> = máº·c â†’ ziehe...an</li>
              </ul>
            </div>
            <div class="tip">
              <strong>ğŸ¯ Máº¹o nhá»›:</strong> Tiá»n tá»‘ "nháº£y" vá» cuá»‘i cÃ¢u! NhÆ° má»™t
              cÃ¡i káº¹p bÃ¡nh mÃ¬ ğŸ¥ª
            </div>
          </div>

          <div class="tip-card">
            <h3>â“ CÃ¢u há»i (FragesÃ¤tze)</h3>
            <div class="formula">
              <strong>CÃ¢u há»i Yes/No:</strong> Äá»™ng tá»« + Chá»§ ngá»¯ + ... ? <br />
              <em>VD: <strong>Sprichst</strong> du Deutsch?</em>
              <br /><br />
              <strong>CÃ¢u há»i vá»›i tá»« Ä‘á»ƒ há»i:</strong> W-Wort + Äá»™ng tá»« + Chá»§ ngá»¯
              + ... ? <br />
              <em>VD: <strong>Wo</strong> wohnst du?</em>
            </div>
            <div class="w-words">
              <strong>Tá»« Ä‘á»ƒ há»i (W-WÃ¶rter):</strong>
              <ul>
                <li><strong>Wer?</strong> = Ai?</li>
                <li><strong>Was?</strong> = GÃ¬?</li>
                <li><strong>Wo?</strong> = á» Ä‘Ã¢u?</li>
                <li><strong>Woher?</strong> = Tá»« Ä‘Ã¢u?</li>
                <li><strong>Wohin?</strong> = Äáº¿n Ä‘Ã¢u?</li>
                <li><strong>Wann?</strong> = Khi nÃ o?</li>
                <li><strong>Warum?</strong> = Táº¡i sao?</li>
                <li><strong>Wie?</strong> = NhÆ° tháº¿ nÃ o?</li>
              </ul>
            </div>
            <div class="tip">
              <strong>ğŸ¯ Máº¹o nhá»›:</strong> Äá»™ng tá»« luÃ´n á»Ÿ vá»‹ trÃ­ thá»© 2 trong cÃ¢u
              tiáº¿ng Äá»©c!
            </div>
          </div>

          <div class="tip-card memory-tricks">
            <h3>ğŸ§  Máº¹o ghi nhá»› cho ngÆ°á»i má»›i há»c</h3>
            <div class="memory-section">
              <h4>ğŸµ Thá»© tá»± tá»« trong cÃ¢u (SVT - Subject Verb Time)</h4>
              <p>
                <strong>Nhá»›:</strong> "SiÃªu Viá»‡t Thá»i gian" = Chá»§ ngá»¯ + Äá»™ng tá»«
                + Thá»i gian/Äá»‹a Ä‘iá»ƒm
              </p>
              <em>Ich gehe heute nach Hause.</em>
            </div>

            <div class="memory-section">
              <h4>ğŸ­ CÃ¡ch nhá»› Ä‘á»™ng tá»« khuyáº¿t thiáº¿u</h4>
              <p><strong>KDMWSM:</strong> "KhÃ´ng DÃ¡m Muá»‘n Vá»›i Sáº¿p MÃ¬nh"</p>
              <ul>
                <li><strong>K</strong>Ã¶nnen = KhÃ´ng thá»ƒ â†’ CÃ³ thá»ƒ</li>
                <li><strong>D</strong>Ã¼rfen = DÃ¡m â†’ ÄÆ°á»£c phÃ©p</li>
                <li><strong>M</strong>Ã¼ssen = Muá»‘n â†’ Pháº£i</li>
                <li><strong>W</strong>ollen = Vá»›i = Muá»‘n</li>
                <li><strong>S</strong>ollen = Sáº¿p = NÃªn (theo lá»i khuyÃªn)</li>
                <li><strong>M</strong>Ã¶gen = MÃ¬nh = ThÃ­ch</li>
              </ul>
            </div>

            <div class="memory-section">
              <h4>ğŸ“ Luyá»‡n táº­p hÃ ng ngÃ y</h4>
              <ul>
                <li>Má»—i ngÃ y há»c 2-3 cÃ¢u má»›i</li>
                <li>NÃ³i to cÃ¢u tiáº¿ng Äá»©c 5 láº§n</li>
                <li>Viáº¿t láº¡i cÃ¢u tá»« tiáº¿ng Viá»‡t sang tiáº¿ng Äá»©c</li>
                <li>Táº¡o cÃ¢u má»›i vá»›i cÃ¹ng cáº¥u trÃºc</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Review Section -->
        <div id="review" class="section active">
          <div class="category-title">CÃ¢u cáº§u khiáº¿n (Imperativ)</div>
          <div id="imperative-sentences"></div>

          <div class="category-title">
            CÃ¢u cÃ³ Ä‘á»™ng tá»« khuyáº¿t thiáº¿u (Modalverben)
          </div>
          <div id="modal-sentences"></div>

          <div class="category-title">
            CÃ¢u cÃ³ Ä‘á»™ng tá»« tÃ¡ch (Trennbare Verben)
          </div>
          <div id="separable-sentences"></div>

          <div class="category-title">CÃ¢u há»i nghi váº¥n (Ja/Nein-Fragen)</div>
          <div id="yes-no-questions"></div>

          <div class="category-title">CÃ¢u há»i cÃ³ tá»« Ä‘á»ƒ há»i (W-Fragen)</div>
          <div id="w-questions"></div>
        </div>

        <!-- Quiz Sections -->
        <div id="quiz-imperative" class="section">
          <div class="quiz-container">
            <h2 class="category-title">Quiz: CÃ¢u cáº§u khiáº¿n</h2>
            <div id="quiz-imperative-content"></div>
          </div>
        </div>

        <div id="quiz-modal" class="section">
          <div class="quiz-container">
            <h2 class="category-title">Quiz: Äá»™ng tá»« khuyáº¿t thiáº¿u</h2>
            <div id="quiz-modal-content"></div>
          </div>
        </div>

        <div id="quiz-separable" class="section">
          <div class="quiz-container">
            <h2 class="category-title">Quiz: Äá»™ng tá»« tÃ¡ch</h2>
            <div id="quiz-separable-content"></div>
          </div>
        </div>

        <div id="quiz-questions" class="section">
          <div class="quiz-container">
            <h2 class="category-title">Quiz: CÃ¢u há»i</h2>
            <div id="quiz-questions-content"></div>
          </div>
        </div>

        <div id="quiz-all" class="section">
          <div class="quiz-container">
            <h2 class="category-title">Quiz tá»•ng há»£p</h2>
            <div id="quiz-all-content"></div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Data structure - Exactly 5 words per sentence with useful tips
      const data = {
        imperative: [
          {
            german: "Komm bitte zu mir her!",
            vietnamese: "HÃ£y Ä‘áº¿n chá»— tÃ´i Ä‘Ã¢y!",
            tip: "ğŸ¯ Du-Form: kommen â†’ komm. 'zu mir her' = Ä‘áº¿n chá»— tÃ´i. 'bitte' lÃ m cÃ¢u lá»‹ch sá»± hÆ¡n",
          },
          {
            german: "Geh jetzt nach Hause bitte!",
            vietnamese: "BÃ¢y giá» hÃ£y vá» nhÃ !",
            tip: "ğŸ¯ gehen â†’ geh. 'nach Hause' (vá» nhÃ ) lÃ  cá»¥m cá»‘ Ä‘á»‹nh, luÃ´n dÃ¹ng 'nach'",
          },
          {
            german: "Iss das Brot mit Butter!",
            vietnamese: "Ä‚n bÃ¡nh mÃ¬ vá»›i bÆ¡!",
            tip: "ğŸ¯ essen â†’ iss (báº¥t quy táº¯c). 'mit + Dativ' = vá»›i cÃ¡i gÃ¬. das Brot (Akkusativ)",
          },
          {
            german: "Trink bitte dein kaltes Wasser!",
            vietnamese: "HÃ£y uá»‘ng nÆ°á»›c láº¡nh cá»§a báº¡n!",
            tip: "ğŸ¯ TÃ­nh tá»« 'kaltes' Ä‘á»©ng trÆ°á»›c danh tá»«. 'dein' = cá»§a báº¡n (sá»Ÿ há»¯u cÃ¡ch)",
          },
          {
            german: "Sei heute nicht so traurig!",
            vietnamese: "HÃ´m nay Ä‘á»«ng buá»“n quÃ¡!",
            tip: "ğŸ¯ sein â†’ sei (Ä‘áº·c biá»‡t). 'so + tÃ­nh tá»«' = quÃ¡ nhÆ° tháº¿ nÃ o. 'nicht' phá»§ Ä‘á»‹nh",
          },
        ],
        modal: [
          {
            german: "Ich kann sehr gut schwimmen.",
            vietnamese: "TÃ´i cÃ³ thá»ƒ bÆ¡i ráº¥t giá»i.",
            tip: "ğŸ¯ kÃ¶nnen = kháº£ nÄƒng. 'sehr gut' = ráº¥t giá»i. Äá»™ng tá»« chÃ­nh 'schwimmen' á»Ÿ cuá»‘i cÃ¢u",
          },
          {
            german: "Du musst heute Deutsch lernen.",
            vietnamese: "HÃ´m nay báº¡n pháº£i há»c tiáº¿ng Äá»©c.",
            tip: "ğŸ¯ mÃ¼ssen = báº¯t buá»™c pháº£i. Thá»i gian 'heute' Ä‘á»©ng sau modal verb",
          },
          {
            german: "Wir wollen zusammen FuÃŸball spielen.",
            vietnamese: "ChÃºng ta muá»‘n chÆ¡i bÃ³ng Ä‘Ã¡ cÃ¹ng nhau.",
            tip: "ğŸ¯ wollen = Ã½ muá»‘n cÃ¡ nhÃ¢n. 'zusammen' = cÃ¹ng nhau (tráº¡ng tá»«)",
          },
          {
            german: "Sie dÃ¼rfen hier nicht rauchen.",
            vietnamese: "Há» khÃ´ng Ä‘Æ°á»£c phÃ©p hÃºt thuá»‘c á»Ÿ Ä‘Ã¢y.",
            tip: "ğŸ¯ dÃ¼rfen + nicht = cáº¥m. 'hier' = á»Ÿ Ä‘Ã¢y (chá»‰ Ä‘á»‹a Ä‘iá»ƒm)",
          },
          {
            german: "Ich soll morgen frÃ¼h arbeiten.",
            vietnamese: "TÃ´i nÃªn lÃ m viá»‡c sá»›m mai.",
            tip: "ğŸ¯ sollen = lá»i khuyÃªn tá»« ngÆ°á»i khÃ¡c. 'frÃ¼h' = sá»›m (tráº¡ng tá»« thá»i gian)",
          },
          {
            german: "Du kannst gut Gitarre spielen.",
            vietnamese: "Báº¡n cÃ³ thá»ƒ chÆ¡i guitar tá»‘t.",
            tip: "ğŸ¯ kÃ¶nnen + gut = cÃ³ thá»ƒ lÃ m tá»‘t. 'Gitarre spielen' = chÆ¡i guitar",
          },
          {
            german: "Wir mÃ¼ssen pÃ¼nktlich zur Schule.",
            vietnamese: "ChÃºng ta pháº£i Ä‘áº¿n trÆ°á»ng Ä‘Ãºng giá».",
            tip: "ğŸ¯ mÃ¼ssen + zu = pháº£i Ä‘áº¿n Ä‘Ã¢u. 'pÃ¼nktlich' = Ä‘Ãºng giá» (tráº¡ng tá»«)",
          },
          {
            german: "Ihr wollt Pizza zum Mittag?",
            vietnamese: "CÃ¡c báº¡n muá»‘n pizza bá»¯a trÆ°a?",
            tip: "ğŸ¯ wollen trong cÃ¢u há»i. 'zum Mittag' = bá»¯a trÆ°a (zu + dem = zum)",
          },
          {
            german: "Ich darf heute lÃ¤nger schlafen.",
            vietnamese: "HÃ´m nay tÃ´i Ä‘Æ°á»£c ngá»§ lÃ¢u hÆ¡n.",
            tip: "ğŸ¯ dÃ¼rfen = Ä‘Æ°á»£c phÃ©p. 'lÃ¤nger' = lÃ¢u hÆ¡n (so sÃ¡nh hÆ¡n)",
          },
          {
            german: "Sie soll mehr Wasser trinken.",
            vietnamese: "CÃ´ áº¥y nÃªn uá»‘ng nhiá»u nÆ°á»›c hÆ¡n.",
            tip: "ğŸ¯ sollen = lá»i khuyÃªn y táº¿. 'mehr' = nhiá»u hÆ¡n (so sÃ¡nh)",
          },
        ],
        separable: [
          {
            german: "Ich stehe jeden Tag auf.",
            vietnamese: "TÃ´i thá»©c dáº­y má»—i ngÃ y.",
            tip: "ğŸ¯ aufstehen tÃ¡ch: stehe...auf. 'jeden Tag' = má»—i ngÃ y (Akkusativ thá»i gian)",
          },
          {
            german: "Er ruft seine Mutter an.",
            vietnamese: "Anh áº¥y gá»i Ä‘iá»‡n cho máº¹.",
            tip: "ğŸ¯ anrufen tÃ¡ch: ruft...an. 'seine Mutter' = máº¹ cá»§a anh áº¥y (Akkusativ)",
          },
          {
            german: "Wir kaufen heute Abend ein.",
            vietnamese: "ChÃºng ta mua sáº¯m tá»‘i nay.",
            tip: "ğŸ¯ einkaufen tÃ¡ch: kaufen...ein. 'heute Abend' = tá»‘i nay (thá»i gian cá»¥ thá»ƒ)",
          },
          {
            german: "Du machst das Fenster zu.",
            vietnamese: "Báº¡n Ä‘Ã³ng cá»­a sá»• láº¡i.",
            tip: "ğŸ¯ zumachen tÃ¡ch: machst...zu. 'das Fenster' = cá»­a sá»• (tÃ¢n ngá»¯ trá»±c tiáº¿p)",
          },
          {
            german: "Sie zieht warme Kleidung an.",
            vietnamese: "CÃ´ áº¥y máº·c quáº§n Ã¡o áº¥m.",
            tip: "ğŸ¯ anziehen tÃ¡ch: zieht...an. 'warme Kleidung' = quáº§n Ã¡o áº¥m (tÃ­nh tá»« + danh tá»«)",
          },
        ],
        yesNoQuestions: [
          {
            german: "Bist du heute sehr mÃ¼de?",
            vietnamese: "HÃ´m nay báº¡n cÃ³ ráº¥t má»‡t khÃ´ng?",
            tip: "ğŸ¯ CÃ¢u há»i Yes/No: Ä‘á»™ng tá»« lÃªn Ä‘áº§u. 'sehr' nháº¥n máº¡nh má»©c Ä‘á»™ má»‡t",
          },
          {
            german: "Hast du groÃŸen Hunger heute?",
            vietnamese: "HÃ´m nay báº¡n cÃ³ ráº¥t Ä‘Ã³i khÃ´ng?",
            tip: "ğŸ¯ 'groÃŸen Hunger haben' = ráº¥t Ä‘Ã³i. TÃ­nh tá»« 'groÃŸen' chia theo Akkusativ",
          },
          {
            german: "Ist das neue Auto teuer?",
            vietnamese: "Chiáº¿c xe má»›i Ä‘Ã³ cÃ³ Ä‘áº¯t khÃ´ng?",
            tip: "ğŸ¯ 'das neue Auto' = chiáº¿c xe má»›i. TÃ­nh tá»« 'neue' chia theo giá»‘ng trung tÃ­nh",
          },
          {
            german: "Kommst du heute zu mir?",
            vietnamese: "HÃ´m nay báº¡n cÃ³ Ä‘áº¿n chá»— tÃ´i khÃ´ng?",
            tip: "ğŸ¯ 'zu mir' = Ä‘áº¿n chá»— tÃ´i. Giá»›i tá»« 'zu' + Dativ (mir)",
          },
          {
            german: "Sprichst du gut Deutsche Sprache?",
            vietnamese: "Báº¡n cÃ³ nÃ³i tiáº¿ng Äá»©c tá»‘t khÃ´ng?",
            tip: "ğŸ¯ 'Deutsche Sprache' = tiáº¿ng Äá»©c. 'gut' = tá»‘t (tráº¡ng tá»« cÃ¡ch thá»©c)",
          },
        ],
        wQuestions: [
          {
            german: "Wie heiÃŸt du denn bitte?",
            vietnamese: "Báº¡n tÃªn gÃ¬ váº­y?",
            tip: "ğŸ¯ 'Wie heiÃŸt du?' = tÃªn gÃ¬. 'denn' lÃ m cÃ¢u há»i thÃ¢n thiá»‡n hÆ¡n, 'bitte' lá»‹ch sá»±",
          },
          {
            german: "Wo wohnst du in Deutschland?",
            vietnamese: "Báº¡n sá»‘ng á»Ÿ Ä‘Ã¢u á»Ÿ Äá»©c?",
            tip: "ğŸ¯ Wo = á»Ÿ Ä‘Ã¢u (Ä‘á»‹a Ä‘iá»ƒm tÄ©nh). 'in Deutschland' = á»Ÿ Äá»©c (Dativ)",
          },
          {
            german: "Was ist das fÃ¼r ein?",
            vietnamese: "CÃ¡i Ä‘Ã³ lÃ  gÃ¬ váº­y?",
            tip: "ğŸ¯ 'Was fÃ¼r ein?' = gÃ¬ Ä‘Ã³? DÃ¹ng khi muá»‘n biáº¿t loáº¡i/kiá»ƒu cá»§a váº­t gÃ¬",
          },
          {
            german: "Wann kommst du nach Hause?",
            vietnamese: "Khi nÃ o báº¡n vá» nhÃ ?",
            tip: "ğŸ¯ Wann = khi nÃ o (thá»i gian). 'nach Hause' = vá» nhÃ  (cá»‘ Ä‘á»‹nh)",
          },
          {
            german: "Wer ist deine beste Freundin?",
            vietnamese: "Ai lÃ  báº¡n thÃ¢n nháº¥t cá»§a báº¡n?",
            tip: "ğŸ¯ Wer = ai (há»i vá» ngÆ°á»i). 'beste' = tá»‘t nháº¥t (tÃ­nh tá»« so sÃ¡nh)",
          },
        ],
      };

      // Quiz state
      let currentQuiz = null;
      let currentQuestionIndex = 0;
      let score = 0;
      let answered = false;

      // Initialize the app
      function init() {
        loadReviewContent();
      }

      // Load review content
      function loadReviewContent() {
        loadSentences("imperative-sentences", data.imperative);
        loadSentences("modal-sentences", data.modal);
        loadSentences("separable-sentences", data.separable);
        loadSentences("yes-no-questions", data.yesNoQuestions);
        loadSentences("w-questions", data.wQuestions);
      }

      function loadSentences(containerId, sentences) {
        const container = document.getElementById(containerId);
        container.innerHTML = sentences
          .map(
            (sentence, index) => `
                <div class="sentence-card" onclick="speakGerman('${sentence.german}')">
                    <div class="german-text">${sentence.german}</div>
                    <div class="vietnamese-text">${sentence.vietnamese}</div>
                    <div class="sentence-tip">${sentence.tip}</div>
                </div>
            `
          )
          .join("");
      }

      // Text-to-speech for German
      function speakGerman(text) {
        if ("speechSynthesis" in window) {
          const utterance = new SpeechSynthesisUtterance(text);
          utterance.lang = "de-DE";
          utterance.rate = 0.8;
          speechSynthesis.speak(utterance);
        }
      }

      // Show different sections
      function showSection(sectionId) {
        // Update nav tabs
        document
          .querySelectorAll(".nav-tab")
          .forEach((tab) => tab.classList.remove("active"));
        event.target.classList.add("active");

        // Hide all sections
        document
          .querySelectorAll(".section")
          .forEach((section) => section.classList.remove("active"));

        // Show selected section
        document.getElementById(sectionId).classList.add("active");

        // Initialize quiz if needed
        if (sectionId.startsWith("quiz-")) {
          initQuiz(sectionId);
        }
      }

      // Initialize quiz
      function initQuiz(quizType) {
        let quizData = [];

        switch (quizType) {
          case "quiz-imperative":
            quizData = data.imperative;
            break;
          case "quiz-modal":
            quizData = data.modal;
            break;
          case "quiz-separable":
            quizData = data.separable;
            break;
          case "quiz-questions":
            quizData = [...data.yesNoQuestions, ...data.wQuestions];
            break;
          case "quiz-all":
            quizData = [
              ...data.imperative,
              ...data.modal,
              ...data.separable,
              ...data.yesNoQuestions,
              ...data.wQuestions,
            ];
            break;
        }

        currentQuiz = shuffleArray([...quizData]);
        currentQuestionIndex = 0;
        score = 0;
        answered = false;

        showQuestion(quizType);
      }

      // Shuffle array
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      // Show current question
      function showQuestion(quizType) {
        if (currentQuestionIndex >= currentQuiz.length) {
          showResults(quizType);
          return;
        }

        const question = currentQuiz[currentQuestionIndex];
        const container = document.getElementById(quizType + "-content");

        const progressPercent =
          (currentQuestionIndex / currentQuiz.length) * 100;

        container.innerHTML = `
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${progressPercent}%"></div>
                </div>
                <div class="score">Äiá»ƒm: ${score}/${currentQuestionIndex}</div>
                <div class="quiz-card">
                    <div class="quiz-question">${question.vietnamese}</div>
                    <input type="text" class="quiz-answer" id="answer-input" placeholder="Nháº­p cÃ¢u tiáº¿ng Äá»©c..." />
                    <br>
                    <button class="btn" onclick="checkAnswer('${quizType}')">Kiá»ƒm tra</button>
                    <button class="btn" onclick="showHint('${question.german}')">Gá»£i Ã½</button>
                    <button class="btn" onclick="speakGerman('${question.german}')">ğŸ”Š Nghe</button>
                </div>
            `;

        // Focus on input
        setTimeout(() => {
          document.getElementById("answer-input").focus();
        }, 100);

        // Add enter key listener
        document
          .getElementById("answer-input")
          .addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              checkAnswer(quizType);
            }
          });

        answered = false;
      }

      // Check answer
      function checkAnswer(quizType) {
        if (answered) return;

        const userAnswer = document.getElementById("answer-input").value.trim();
        const correctAnswer = currentQuiz[currentQuestionIndex].german;

        const answerInput = document.getElementById("answer-input");
        const container = document.getElementById(quizType + "-content");

        // Simple comparison (remove punctuation and convert to lowercase)
        const normalizeString = (str) =>
          str
            .toLowerCase()
            .replace(/[.,!?]/g, "")
            .trim();
        const isCorrect =
          normalizeString(userAnswer) === normalizeString(correctAnswer);

        if (isCorrect) {
          score++;
          answerInput.classList.add("correct");
          answerInput.value = correctAnswer;
        } else {
          answerInput.classList.add("incorrect");
          answerInput.value = `âŒ ${userAnswer} â†’ âœ… ${correctAnswer}`;
        }

        answered = true;

        // Show next button after 2 seconds
        setTimeout(() => {
          const nextButton = `<button class="btn" onclick="nextQuestion('${quizType}')">${
            currentQuestionIndex + 1 < currentQuiz.length
              ? "CÃ¢u tiáº¿p theo"
              : "Xem káº¿t quáº£"
          }</button>`;
          container.innerHTML += nextButton;
        }, 2000);
      }

      // Show hint
      function showHint(answer) {
        const firstWord = answer.split(" ")[0];
        document.getElementById("answer-input").value = firstWord + "...";
      }

      // Next question
      function nextQuestion(quizType) {
        currentQuestionIndex++;
        showQuestion(quizType);
      }

      // Show results
      function showResults(quizType) {
        const container = document.getElementById(quizType + "-content");
        const percentage = Math.round((score / currentQuiz.length) * 100);

        let message = "";
        let emoji = "";

        if (percentage >= 90) {
          message = "Xuáº¥t sáº¯c! Báº¡n Ä‘Ã£ thÃ nh tháº¡o ngá»¯ phÃ¡p nÃ y!";
          emoji = "ğŸ†";
        } else if (percentage >= 70) {
          message = "Tá»‘t láº¯m! Báº¡n Ä‘Ã£ hiá»ƒu khÃ¡ tá»‘t.";
          emoji = "ğŸ‘";
        } else if (percentage >= 50) {
          message = "KhÃ¡ á»•n! HÃ£y luyá»‡n táº­p thÃªm nhÃ©.";
          emoji = "ğŸ’ª";
        } else {
          message = "Äá»«ng náº£n lÃ²ng! HÃ£y Ã´n táº­p vÃ  thá»­ láº¡i.";
          emoji = "ğŸ“š";
        }

        container.innerHTML = `
                <div class="quiz-card">
                    <div style="font-size: 4em; margin-bottom: 20px;">${emoji}</div>
                    <div style="font-size: 2em; margin-bottom: 20px;">Káº¿t quáº£</div>
                    <div style="font-size: 3em; margin-bottom: 20px; font-weight: bold;">${score}/${currentQuiz.length}</div>
                    <div style="font-size: 2em; margin-bottom: 20px;">${percentage}%</div>
                    <div style="font-size: 1.3em; margin-bottom: 30px;">${message}</div>
                    <button class="btn" onclick="initQuiz('${quizType}')">LÃ m láº¡i</button>
                    <button class="btn" onclick="showSection('review')">Quay vá» Ã´n táº­p</button>
                </div>
            `;
      }

      // Initialize app when page loads
      window.onload = init;
    </script>
  </body>
</html>
