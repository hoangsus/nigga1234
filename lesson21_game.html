<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ôn luyện ngữ pháp tiếng Đức</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #ff6b6b, #ffd93d);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.2em;
        opacity: 0.9;
      }

      .nav-tabs {
        display: flex;
        background: #f8f9fa;
        border-bottom: 3px solid #e9ecef;
      }

      .nav-tab {
        flex: 1;
        padding: 15px 10px;
        text-align: center;
        background: none;
        border: none;
        cursor: pointer;
        font-size: 14px;
        font-weight: 600;
        color: #6c757d;
        transition: all 0.3s ease;
        position: relative;
      }

      .nav-tab:hover {
        background: #e9ecef;
        color: #495057;
      }

      .nav-tab.active {
        color: #007bff;
        background: white;
      }

      .nav-tab.active::after {
        content: "";
        position: absolute;
        bottom: -3px;
        left: 0;
        right: 0;
        height: 3px;
        background: #007bff;
      }

      .content {
        padding: 30px;
      }

      .section {
        display: none;
      }

      .section.active {
        display: block;
      }

      .sentence-card {
        background: #f8f9fa;
        border-radius: 15px;
        padding: 20px;
        margin: 15px 0;
        border-left: 5px solid #007bff;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .sentence-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }

      .german-text {
        font-size: 1.3em;
        font-weight: 600;
        color: #333;
        margin-bottom: 10px;
      }

      .vietnamese-text {
        font-size: 1.1em;
        color: #6c757d;
        font-style: italic;
      }

      .quiz-container {
        text-align: center;
      }

      .quiz-card {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border-radius: 20px;
        padding: 40px;
        margin: 20px 0;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      }

      .quiz-question {
        font-size: 1.5em;
        margin-bottom: 30px;
        line-height: 1.6;
      }

      .quiz-answer {
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 15px;
        padding: 15px;
        font-size: 1.1em;
        color: white;
        width: 100%;
        margin: 10px 0;
        backdrop-filter: blur(10px);
      }

      .quiz-answer::placeholder {
        color: rgba(255, 255, 255, 0.7);
      }

      .btn {
        background: linear-gradient(135deg, #ff6b6b, #ffd93d);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-size: 1.1em;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      }

      .btn:active {
        transform: translateY(0);
      }

      .score {
        font-size: 1.3em;
        font-weight: 600;
        margin: 20px 0;
        padding: 15px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 15px;
        backdrop-filter: blur(10px);
      }

      .correct {
        background: linear-gradient(135deg, #28a745, #20c997) !important;
        animation: pulse 0.5s ease;
      }

      .incorrect {
        background: linear-gradient(135deg, #dc3545, #fd7e14) !important;
        animation: shake 0.5s ease;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-5px);
        }
        75% {
          transform: translateX(5px);
        }
      }

      .category-title {
        font-size: 1.8em;
        font-weight: 700;
        color: #333;
        margin: 30px 0 20px 0;
        text-align: center;
        padding: 15px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .progress-bar {
        background: #e9ecef;
        border-radius: 10px;
        overflow: hidden;
        margin: 20px 0;
      }

      .progress-fill {
        background: linear-gradient(135deg, #28a745, #20c997);
        height: 20px;
        transition: width 0.3s ease;
        border-radius: 10px;
      }

      .tip-card {
        background: linear-gradient(135deg, #f8f9ff, #e3f2fd);
        border-radius: 20px;
        padding: 25px;
        margin: 20px 0;
        border-left: 6px solid #2196f3;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }

      .tip-card h3 {
        color: #1976d2;
        font-size: 1.5em;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .formula {
        background: #fff3e0;
        border-radius: 15px;
        padding: 20px;
        margin: 15px 0;
        border-left: 4px solid #ff9800;
      }

      .formula strong {
        color: #f57c00;
        font-size: 1.1em;
      }

      .formula ul {
        margin: 10px 0 0 20px;
      }

      .formula li {
        margin: 8px 0;
        line-height: 1.6;
      }

      .tip {
        background: #e8f5e8;
        border-radius: 15px;
        padding: 15px;
        margin: 15px 0;
        border-left: 4px solid #4caf50;
        font-weight: 500;
      }

      .modal-table table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .modal-table th {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 15px;
        font-weight: 600;
      }

      .modal-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #e0e0e0;
      }

      .modal-table tr:hover {
        background: #f5f5f5;
      }

      .separable-examples {
        background: #fff8e1;
        border-radius: 15px;
        padding: 20px;
        margin: 15px 0;
        border-left: 4px solid #ffb300;
      }

      .separable-examples ul {
        margin: 10px 0 0 20px;
      }

      .separable-examples li {
        margin: 8px 0;
        font-family: "Courier New", monospace;
      }

      .w-words {
        background: #f3e5f5;
        border-radius: 15px;
        padding: 20px;
        margin: 15px 0;
        border-left: 4px solid #9c27b0;
      }

      .w-words ul {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 10px;
        margin: 15px 0;
        list-style: none;
        padding: 0;
      }

      .w-words li {
        background: white;
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .sentence-tip {
        font-size: 0.95em;
        color: #4a90e2;
        background: #f0f8ff;
        padding: 10px 15px;
        border-radius: 10px;
        margin-top: 12px;
        border-left: 3px solid #4a90e2;
        font-weight: 500;
        line-height: 1.4;
      }

      .vocab-category {
        margin: 30px 0;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border-radius: 20px;
        padding: 25px;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
      }

      .vocab-category h3 {
        color: #495057;
        font-size: 1.4em;
        margin-bottom: 20px;
        text-align: center;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 15px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .vocab-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }

      .vocab-item {
        background: white;
        border-radius: 12px;
        padding: 15px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
      }

      .vocab-item:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        border-color: #667eea;
      }

      .vocab-german {
        font-size: 1.2em;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 8px;
      }

      .vocab-vietnamese {
        font-size: 1em;
        color: #6c757d;
        font-style: italic;
      }

      .vocab-stats {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border-radius: 20px;
        padding: 30px;
        margin: 40px 0;
        text-align: center;
      }

      .vocab-stats h3 {
        font-size: 1.8em;
        margin-bottom: 25px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 20px;
        margin-top: 25px;
      }

      .stat-item {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 15px;
        padding: 20px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      .stat-number {
        font-size: 2.5em;
        font-weight: 900;
        margin-bottom: 8px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .stat-label {
        font-size: 1em;
        opacity: 0.9;
        font-weight: 500;
      }

      .memory-tricks {
        background: linear-gradient(135deg, #fff9c4, #f8bbd9);
        border-left-color: #e91e63;
      }

      .memory-section {
        background: rgba(255, 255, 255, 0.7);
        border-radius: 12px;
        padding: 20px;
        margin: 15px 0;
        backdrop-filter: blur(10px);
      }

      .memory-section h4 {
        color: #c2185b;
        margin-bottom: 15px;
        font-size: 1.2em;
      }

      .memory-section ul {
        margin: 10px 0 0 20px;
      }

      .memory-section li {
        margin: 8px 0;
        line-height: 1.6;
      }
      .nav-tab {
        font-size: 12px;
        padding: 12px 5px;
      }

      .header h1 {
        font-size: 2em;
      }

      .content {
        padding: 20px;
      }

      .quiz-card {
        padding: 25px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>🇩🇪 Tiếng Đức A1 - Đúng 5 từ</h1>
        <p>Mỗi câu chính xác 5 từ - Phù hợp yêu cầu giáo viên</p>
      </div>

      <div class="nav-tabs">
        <button class="nav-tab active" onclick="showSection('review')">
          📖 Ôn tập
        </button>
        <button class="nav-tab" onclick="showSection('tips')">
          💡 Mẹo & Công thức
        </button>
        <button class="nav-tab" onclick="showSection('vocabulary')">
          📚 Từ vựng tổng kết
        </button>
        <button class="nav-tab" onclick="showSection('quiz-imperative')">
          ⚡ Quiz Cầu khiến
        </button>
        <button class="nav-tab" onclick="showSection('quiz-modal')">
          🎯 Quiz Động từ khuyết thiếu
        </button>
        <button class="nav-tab" onclick="showSection('quiz-separable')">
          🔄 Quiz Động từ tách
        </button>
        <button class="nav-tab" onclick="showSection('quiz-questions')">
          ❓ Quiz Câu hỏi
        </button>
        <button class="nav-tab" onclick="showSection('quiz-all')">
          🏆 Quiz tổng hợp
        </button>
      </div>

      <div class="content">
        <!-- Vocabulary Section -->
        <div id="vocabulary" class="section">
          <div class="category-title">📚 Từ vựng tổng kết</div>

          <div class="vocab-category">
            <h3>🍞 Đồ ăn & Uống (Essen & Trinken)</h3>
            <div class="vocab-grid">
              <div class="vocab-item" onclick="speakGerman('die Pizza')">
                <div class="vocab-german">die Pizza</div>
                <div class="vocab-vietnamese">pizza</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('essen')">
                <div class="vocab-german">essen</div>
                <div class="vocab-vietnamese">ăn</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('das Wasser')">
                <div class="vocab-german">das Wasser</div>
                <div class="vocab-vietnamese">nước</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('trinken')">
                <div class="vocab-german">trinken</div>
                <div class="vocab-vietnamese">uống</div>
              </div>
            </div>
          </div>

          <div class="vocab-category">
            <h3>🏠 Nhà cửa & Đồ vật (Haus & Gegenstände)</h3>
            <div class="vocab-grid">
              <div class="vocab-item" onclick="speakGerman('das Haus')">
                <div class="vocab-german">das Haus</div>
                <div class="vocab-vietnamese">nhà</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('das Fenster')">
                <div class="vocab-german">das Fenster</div>
                <div class="vocab-vietnamese">cửa sổ</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('die Kleidung')">
                <div class="vocab-german">die Kleidung</div>
                <div class="vocab-vietnamese">quần áo</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('das Auto')">
                <div class="vocab-german">das Auto</div>
                <div class="vocab-vietnamese">xe hơi</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('die Gitarre')">
                <div class="vocab-german">die Gitarre</div>
                <div class="vocab-vietnamese">guitar</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('die Hausaufgaben')">
                <div class="vocab-german">die Hausaufgaben</div>
                <div class="vocab-vietnamese">bài tập về nhà</div>
              </div>
            </div>
          </div>

          <div class="vocab-category">
            <h3>👥 Gia đình & Con người (Familie & Menschen)</h3>
            <div class="vocab-grid">
              <div class="vocab-item" onclick="speakGerman('die Mutter')">
                <div class="vocab-german">die Mutter</div>
                <div class="vocab-vietnamese">mẹ</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('die Freundin')">
                <div class="vocab-german">die Freundin</div>
                <div class="vocab-vietnamese">bạn gái/bạn thân nữ</div>
              </div>
            </div>
          </div>

          <div class="vocab-category">
            <h3>🏫 Học tập & Làm việc (Lernen & Arbeiten)</h3>
            <div class="vocab-grid">
              <div class="vocab-item" onclick="speakGerman('die Schule')">
                <div class="vocab-german">die Schule</div>
                <div class="vocab-vietnamese">trường học</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('lernen')">
                <div class="vocab-german">lernen</div>
                <div class="vocab-vietnamese">học</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('arbeiten')">
                <div class="vocab-german">arbeiten</div>
                <div class="vocab-vietnamese">làm việc</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('Deutschland')">
                <div class="vocab-german">Deutschland</div>
                <div class="vocab-vietnamese">nước Đức</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('Deutsche Sprache')">
                <div class="vocab-german">Deutsche Sprache</div>
                <div class="vocab-vietnamese">tiếng Đức</div>
              </div>
            </div>
          </div>

          <div class="vocab-category">
            <h3>🎯 Hoạt động (Aktivitäten)</h3>
            <div class="vocab-grid">
              <div class="vocab-item" onclick="speakGerman('schwimmen')">
                <div class="vocab-german">schwimmen</div>
                <div class="vocab-vietnamese">bơi</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('spielen')">
                <div class="vocab-german">spielen</div>
                <div class="vocab-vietnamese">chơi</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('Fußball spielen')">
                <div class="vocab-german">Fußball spielen</div>
                <div class="vocab-vietnamese">chơi bóng đá</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('Gitarre spielen')">
                <div class="vocab-german">Gitarre spielen</div>
                <div class="vocab-vietnamese">chơi guitar</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('aufstehen')">
                <div class="vocab-german">aufstehen</div>
                <div class="vocab-vietnamese">thức dậy</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('anrufen')">
                <div class="vocab-german">anrufen</div>
                <div class="vocab-vietnamese">gọi điện</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('einkaufen')">
                <div class="vocab-german">einkaufen</div>
                <div class="vocab-vietnamese">mua sắm</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('zumachen')">
                <div class="vocab-german">zumachen</div>
                <div class="vocab-vietnamese">đóng lại</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('anziehen')">
                <div class="vocab-german">anziehen</div>
                <div class="vocab-vietnamese">mặc vào</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('rauchen')">
                <div class="vocab-german">rauchen</div>
                <div class="vocab-vietnamese">hút thuốc</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('schlafen')">
                <div class="vocab-german">schlafen</div>
                <div class="vocab-vietnamese">ngủ</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('wohnen')">
                <div class="vocab-german">wohnen</div>
                <div class="vocab-vietnamese">sống/ở</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('heißen')">
                <div class="vocab-german">heißen</div>
                <div class="vocab-vietnamese">có tên là</div>
              </div>
            </div>
          </div>

          <div class="vocab-category">
            <h3>🎨 Tính từ & Trạng từ (Adjektive & Adverbien)</h3>
            <div class="vocab-grid">
              <div class="vocab-item" onclick="speakGerman('warm')">
                <div class="vocab-german">warm</div>
                <div class="vocab-vietnamese">ấm</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('müde')">
                <div class="vocab-german">müde</div>
                <div class="vocab-vietnamese">mệt</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('teuer')">
                <div class="vocab-german">teuer</div>
                <div class="vocab-vietnamese">đắt</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('neu')">
                <div class="vocab-german">neu</div>
                <div class="vocab-vietnamese">mới</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('beste')">
                <div class="vocab-german">beste</div>
                <div class="vocab-vietnamese">tốt nhất</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('sehr')">
                <div class="vocab-german">sehr</div>
                <div class="vocab-vietnamese">rất</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('gut')">
                <div class="vocab-german">gut</div>
                <div class="vocab-vietnamese">tốt</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('pünktlich')">
                <div class="vocab-german">pünktlich</div>
                <div class="vocab-vietnamese">đúng giờ</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('länger')">
                <div class="vocab-german">länger</div>
                <div class="vocab-vietnamese">lâu hơn</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('mehr')">
                <div class="vocab-german">mehr</div>
                <div class="vocab-vietnamese">nhiều hơn</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('groß')">
                <div class="vocab-german">groß</div>
                <div class="vocab-vietnamese">lớn</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('zusammen')">
                <div class="vocab-german">zusammen</div>
                <div class="vocab-vietnamese">cùng nhau</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('ruhig')">
                <div class="vocab-german">ruhig</div>
                <div class="vocab-vietnamese">im lặng/yên tĩnh</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('sofort')">
                <div class="vocab-german">sofort</div>
                <div class="vocab-vietnamese">ngay lập tức</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('etwas')">
                <div class="vocab-german">etwas</div>
                <div class="vocab-vietnamese">một chút/cái gì đó</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('lauter')">
                <div class="vocab-german">lauter</div>
                <div class="vocab-vietnamese">to hơn</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('schnell')">
                <div class="vocab-german">schnell</div>
                <div class="vocab-vietnamese">nhanh</div>
              </div>
            </div>
          </div>

          <div class="vocab-category">
            <h3>⏰ Thời gian (Zeit)</h3>
            <div class="vocab-grid">
              <div class="vocab-item" onclick="speakGerman('heute')">
                <div class="vocab-german">heute</div>
                <div class="vocab-vietnamese">hôm nay</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('morgen')">
                <div class="vocab-german">morgen</div>
                <div class="vocab-vietnamese">ngày mai</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('jetzt')">
                <div class="vocab-german">jetzt</div>
                <div class="vocab-vietnamese">bây giờ</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('früh')">
                <div class="vocab-german">früh</div>
                <div class="vocab-vietnamese">sớm</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('Abend')">
                <div class="vocab-german">der Abend</div>
                <div class="vocab-vietnamese">buổi tối</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('Tag')">
                <div class="vocab-german">der Tag</div>
                <div class="vocab-vietnamese">ngày</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('jeden Tag')">
                <div class="vocab-german">jeden Tag</div>
                <div class="vocab-vietnamese">mỗi ngày</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('wenn')">
                <div class="vocab-german">wenn</div>
                <div class="vocab-vietnamese">khi/nếu</div>
              </div>
            </div>
          </div>

          <div class="vocab-category">
            <h3>🔗 Từ nối & Giới từ (Verbindungen & Präpositionen)</h3>
            <div class="vocab-grid">
              <div class="vocab-item" onclick="speakGerman('nicht')">
                <div class="vocab-german">nicht</div>
                <div class="vocab-vietnamese">không</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('mit')">
                <div class="vocab-german">mit</div>
                <div class="vocab-vietnamese">với</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('zu')">
                <div class="vocab-german">zu</div>
                <div class="vocab-vietnamese">đến/tới</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('nach Hause')">
                <div class="vocab-german">nach Hause</div>
                <div class="vocab-vietnamese">về nhà</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('zur Schule')">
                <div class="vocab-german">zur Schule</div>
                <div class="vocab-vietnamese">đến trường</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('hier')">
                <div class="vocab-german">hier</div>
                <div class="vocab-vietnamese">ở đây</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('denn')">
                <div class="vocab-german">denn</div>
                <div class="vocab-vietnamese">vậy/thế</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('in')">
                <div class="vocab-german">in</div>
                <div class="vocab-vietnamese">trong/ở</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('für')">
                <div class="vocab-german">für</div>
                <div class="vocab-vietnamese">cho/vì</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('herüber')">
                <div class="vocab-german">herüber</div>
                <div class="vocab-vietnamese">đến đây (từ xa)</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('fertig')">
                <div class="vocab-german">fertig</div>
                <div class="vocab-vietnamese">xong/hoàn thành</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('eure')">
                <div class="vocab-german">eure</div>
                <div class="vocab-vietnamese">của các bạn</div>
              </div>
            </div>
          </div>

          <div class="vocab-category">
            <h3>❓ Từ để hỏi (Fragewörter)</h3>
            <div class="vocab-grid">
              <div class="vocab-item" onclick="speakGerman('wie')">
                <div class="vocab-german">wie</div>
                <div class="vocab-vietnamese">như thế nào</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('wo')">
                <div class="vocab-german">wo</div>
                <div class="vocab-vietnamese">ở đâu</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('was')">
                <div class="vocab-german">was</div>
                <div class="vocab-vietnamese">gì</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('wann')">
                <div class="vocab-german">wann</div>
                <div class="vocab-vietnamese">khi nào</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('wer')">
                <div class="vocab-german">wer</div>
                <div class="vocab-vietnamese">ai</div>
              </div>
              <div class="vocab-item" onclick="speakGerman('was für ein')">
                <div class="vocab-german">was für ein</div>
                <div class="vocab-vietnamese">loại gì</div>
              </div>
            </div>
          </div>

          <div class="vocab-stats">
            <h3>📊 Thống kê từ vựng</h3>
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-number">75+</div>
                <div class="stat-label">Từ vựng cơ bản</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">8</div>
                <div class="stat-label">Chủ đề</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">A1</div>
                <div class="stat-label">Trình độ</div>
              </div>
              <div class="stat-item">
                <div class="stat-number">100%</div>
                <div class="stat-label">Thực tế</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tips Section -->
        <div id="tips" class="section">
          <div class="category-title">💡 Mẹo và Công thức Ngữ pháp</div>

          <div class="tip-card">
            <h3>⚡ Câu cầu khiến (Imperativ)</h3>
            <div class="formula">
              <strong>Công thức:</strong>
              <ul>
                <li>
                  <strong>Du-Form:</strong> Động từ gốc (không "st") + ! <br />
                  <em>VD: gehen → Geh!</em>
                </li>
                <li>
                  <strong>Sie-Form:</strong> Động từ + Sie + ! <br />
                  <em>VD: Sprechen Sie!</em>
                </li>
                <li>
                  <strong>Ihr-Form:</strong> Động từ + t + ! <br />
                  <em>VD: Macht!</em>
                </li>
              </ul>
            </div>
            <div class="tip">
              <strong>🎯 Mẹo nhớ:</strong> Cầu khiến = Yêu cầu ai đó làm gì.
              Thêm "bitte" để lịch sự hơn!
            </div>
          </div>

          <div class="tip-card">
            <h3>🎯 Động từ khuyết thiếu (Modalverben)</h3>
            <div class="formula">
              <strong>Công thức:</strong> Chủ ngữ + Động từ khuyết thiếu + ... +
              Động từ chính (nguyên mẫu) <br />
              <em
                >VD: Ich <strong>kann</strong> Deutsch
                <strong>sprechen</strong>.</em
              >
            </div>
            <div class="modal-table">
              <table>
                <tr>
                  <th>Động từ</th>
                  <th>Ý nghĩa</th>
                  <th>Ví dụ</th>
                </tr>
                <tr>
                  <td><strong>können</strong></td>
                  <td>có thể</td>
                  <td>Ich kann schwimmen</td>
                </tr>
                <tr>
                  <td><strong>müssen</strong></td>
                  <td>phải</td>
                  <td>Du musst lernen</td>
                </tr>
                <tr>
                  <td><strong>dürfen</strong></td>
                  <td>được phép</td>
                  <td>Darf ich gehen?</td>
                </tr>
                <tr>
                  <td><strong>wollen</strong></td>
                  <td>muốn</td>
                  <td>Er will essen</td>
                </tr>
                <tr>
                  <td><strong>sollen</strong></td>
                  <td>nên</td>
                  <td>Soll ich helfen?</td>
                </tr>
                <tr>
                  <td><strong>mögen</strong></td>
                  <td>thích</td>
                  <td>Ich mag Pizza</td>
                </tr>
              </table>
            </div>
            <div class="tip">
              <strong>🎯 Mẹo nhớ:</strong> Động từ khuyết thiếu luôn đi với động
              từ nguyên mẫu ở cuối câu!
            </div>
          </div>

          <div class="tip-card">
            <h3>🔄 Động từ tách (Trennbare Verben)</h3>
            <div class="formula">
              <strong>Công thức:</strong> Chủ ngữ + Động từ chính + ... + Tiền
              tố <br />
              <em
                >VD: aufstehen → Ich <strong>stehe</strong> um 7 Uhr
                <strong>auf</strong>.</em
              >
            </div>
            <div class="separable-examples">
              <strong>Các động từ tách phổ biến:</strong>
              <ul>
                <li><strong>aufstehen</strong> = dậy → stehe...auf</li>
                <li><strong>anrufen</strong> = gọi điện → rufe...an</li>
                <li><strong>einkaufen</strong> = mua sắm → kaufe...ein</li>
                <li><strong>zumachen</strong> = đóng → mache...zu</li>
                <li><strong>anziehen</strong> = mặc → ziehe...an</li>
              </ul>
            </div>
            <div class="tip">
              <strong>🎯 Mẹo nhớ:</strong> Tiền tố "nhảy" về cuối câu! Như một
              cái kẹp bánh mì 🥪
            </div>
          </div>

          <div class="tip-card">
            <h3>❓ Câu hỏi (Fragesätze)</h3>
            <div class="formula">
              <strong>Câu hỏi Yes/No:</strong> Động từ + Chủ ngữ + ... ? <br />
              <em>VD: <strong>Sprichst</strong> du Deutsch?</em>
              <br /><br />
              <strong>Câu hỏi với từ để hỏi:</strong> W-Wort + Động từ + Chủ ngữ
              + ... ? <br />
              <em>VD: <strong>Wo</strong> wohnst du?</em>
            </div>
            <div class="w-words">
              <strong>Từ để hỏi (W-Wörter):</strong>
              <ul>
                <li><strong>Wer?</strong> = Ai?</li>
                <li><strong>Was?</strong> = Gì?</li>
                <li><strong>Wo?</strong> = Ở đâu?</li>
                <li><strong>Woher?</strong> = Từ đâu?</li>
                <li><strong>Wohin?</strong> = Đến đâu?</li>
                <li><strong>Wann?</strong> = Khi nào?</li>
                <li><strong>Warum?</strong> = Tại sao?</li>
                <li><strong>Wie?</strong> = Như thế nào?</li>
              </ul>
            </div>
            <div class="tip">
              <strong>🎯 Mẹo nhớ:</strong> Động từ luôn ở vị trí thứ 2 trong câu
              tiếng Đức!
            </div>
          </div>

          <div class="tip-card memory-tricks">
            <h3>🧠 Mẹo ghi nhớ cho người mới học</h3>
            <div class="memory-section">
              <h4>🎵 Thứ tự từ trong câu (SVT - Subject Verb Time)</h4>
              <p>
                <strong>Nhớ:</strong> "Siêu Việt Thời gian" = Chủ ngữ + Động từ
                + Thời gian/Địa điểm
              </p>
              <em>Ich gehe heute nach Hause.</em>
            </div>

            <div class="memory-section">
              <h4>🎭 Cách nhớ động từ khuyết thiếu</h4>
              <p><strong>KDMWSM:</strong> "Không Dám Muốn Với Sếp Mình"</p>
              <ul>
                <li><strong>K</strong>önnen = Không thể → Có thể</li>
                <li><strong>D</strong>ürfen = Dám → Được phép</li>
                <li><strong>M</strong>üssen = Muốn → Phải</li>
                <li><strong>W</strong>ollen = Với = Muốn</li>
                <li><strong>S</strong>ollen = Sếp = Nên (theo lời khuyên)</li>
                <li><strong>M</strong>ögen = Mình = Thích</li>
              </ul>
            </div>

            <div class="memory-section">
              <h4>📝 Luyện tập hàng ngày</h4>
              <ul>
                <li>Mỗi ngày học 2-3 câu mới</li>
                <li>Nói to câu tiếng Đức 5 lần</li>
                <li>Viết lại câu từ tiếng Việt sang tiếng Đức</li>
                <li>Tạo câu mới với cùng cấu trúc</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Review Section -->
        <div id="review" class="section active">
          <div class="category-title">Câu cầu khiến (Imperativ)</div>
          <div id="imperative-sentences"></div>

          <div class="category-title">
            Câu có động từ khuyết thiếu (Modalverben)
          </div>
          <div id="modal-sentences"></div>

          <div class="category-title">
            Câu có động từ tách (Trennbare Verben)
          </div>
          <div id="separable-sentences"></div>

          <div class="category-title">Câu hỏi nghi vấn (Ja/Nein-Fragen)</div>
          <div id="yes-no-questions"></div>

          <div class="category-title">Câu hỏi có từ để hỏi (W-Fragen)</div>
          <div id="w-questions"></div>
        </div>

        <!-- Quiz Sections -->
        <div id="quiz-imperative" class="section">
          <div class="quiz-container">
            <h2 class="category-title">Quiz: Câu cầu khiến</h2>
            <div id="quiz-imperative-content"></div>
          </div>
        </div>

        <div id="quiz-modal" class="section">
          <div class="quiz-container">
            <h2 class="category-title">Quiz: Động từ khuyết thiếu</h2>
            <div id="quiz-modal-content"></div>
          </div>
        </div>

        <div id="quiz-separable" class="section">
          <div class="quiz-container">
            <h2 class="category-title">Quiz: Động từ tách</h2>
            <div id="quiz-separable-content"></div>
          </div>
        </div>

        <div id="quiz-questions" class="section">
          <div class="quiz-container">
            <h2 class="category-title">Quiz: Câu hỏi</h2>
            <div id="quiz-questions-content"></div>
          </div>
        </div>

        <div id="quiz-all" class="section">
          <div class="quiz-container">
            <h2 class="category-title">Quiz tổng hợp</h2>
            <div id="quiz-all-content"></div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Data structure - Updated with new sentences
      const data = {
        modal: [
          {
            german: "Ich kann sehr gut schwimmen.",
            vietnamese: "Tôi có thể bơi rất giỏi.",
            tip: "🎯 können = khả năng. 'sehr gut' = rất giỏi. Động từ chính 'schwimmen' ở cuối câu",
          },
          {
            german: "Du musst heute Deutsch lernen.",
            vietnamese: "Hôm nay bạn phải học tiếng Đức.",
            tip: "🎯 müssen = bắt buộc phải. Thời gian 'heute' đứng sau modal verb",
          },
          {
            german: "Wir wollen zusammen Fußball spielen.",
            vietnamese: "Chúng ta muốn chơi bóng đá cùng nhau.",
            tip: "🎯 wollen = ý muốn cá nhân. 'zusammen' = cùng nhau (trạng từ)",
          },
          {
            german: "Sie dürfen hier nicht rauchen.",
            vietnamese: "Họ không được phép hút thuốc ở đây.",
            tip: "🎯 dürfen + nicht = cấm. 'hier' = ở đây (chỉ địa điểm)",
          },
          {
            german: "Ich soll morgen früh arbeiten.",
            vietnamese: "Tôi nên làm việc sớm mai.",
            tip: "🎯 sollen = lời khuyên từ người khác. 'früh' = sớm (trạng từ thời gian)",
          },
          {
            german: "Du kannst gut Gitarre spielen.",
            vietnamese: "Bạn có thể chơi guitar tốt.",
            tip: "🎯 können + gut = có thể làm tốt. 'Gitarre spielen' = chơi guitar",
          },
          {
            german: "Wir müssen pünktlich zur Schule gehen.",
            vietnamese: "Chúng ta phải đi học đúng giờ.",
            tip: "🎯 müssen + zur Schule gehen = phải đi học đúng giờ. Động từ 'gehen' hoàn thiện ý nghĩa",
          },
          {
            german: "Ihr wollt heute Pizza essen?",
            vietnamese: "Hôm nay các bạn muốn ăn pizza?",
            tip: "🎯 wollen trong câu hỏi. Cần động từ 'essen' để hoàn thiện ý nghĩa",
          },
          {
            german: "Ich darf heute länger schlafen.",
            vietnamese: "Hôm nay tôi được ngủ lâu hơn.",
            tip: "🎯 dürfen = được phép. 'länger' = lâu hơn (so sánh hơn)",
          },
          {
            german: "Sie soll mehr Wasser trinken.",
            vietnamese: "Cô ấy nên uống nhiều nước hơn.",
            tip: "🎯 sollen = lời khuyên y tế. 'mehr' = nhiều hơn (so sánh)",
          },
        ],
        separable: [
          {
            german: "Ich stehe morgens jeden Tag auf.",
            vietnamese: "Tôi thức dậy mỗi ngày vào buổi sáng.",
            tip: "🎯 aufstehen tách: stehe...auf. 'morgens' = buổi sáng, 'jeden Tag' = mỗi ngày",
          },
          {
            german: "Er ruft heute seine Mutter an.",
            vietnamese: "Hôm nay anh ấy gọi điện cho mẹ.",
            tip: "🎯 anrufen tách: ruft...an. 'heute' = hôm nay, 'seine Mutter' = mẹ của anh ấy",
          },
          {
            german: "Wir kaufen gerne heute Abend ein.",
            vietnamese: "Chúng ta thích mua sắm tối nay.",
            tip: "🎯 einkaufen tách: kaufen...ein. 'gerne' = thích/sẵn lòng, 'heute Abend' = tối nay",
          },
          {
            german: "Du machst bitte das Fenster zu.",
            vietnamese: "Làm ơn đóng cửa sổ lại.",
            tip: "🎯 zumachen tách: machst...zu. 'bitte' = làm ơn, 'das Fenster' = cửa sổ",
          },
          {
            german: "Sie zieht jeden Morgen warme Kleidung an.",
            vietnamese: "Mỗi sáng cô ấy mặc quần áo ấm.",
            tip: "🎯 anziehen tách: zieht...an. 'jeden Morgen' = mỗi sáng (2 từ), 'warme Kleidung' = quần áo ấm",
          },
        ],
        yesNoQuestions: [
          {
            german: "Bist du heute sehr müde?",
            vietnamese: "Hôm nay bạn có rất mệt không?",
            tip: "🎯 Câu hỏi Yes/No: động từ lên đầu. 'sehr' nhấn mạnh mức độ mệt",
          },
          {
            german: "Bist du heute sehr hungrig?",
            vietnamese: "Hôm nay bạn có rất đói không?",
            tip: "🎯 'sehr hungrig' = rất đói, tự nhiên hơn. Động từ 'sein' (bist) phù hợp khi nói về trạng thái đói",
          },
          {
            german: "Ist das neue Auto teuer?",
            vietnamese: "Chiếc xe mới đó có đắt không?",
            tip: "🎯 'das neue Auto' = chiếc xe mới. Tính từ 'neue' chia theo giống trung tính",
          },
          {
            german: "Kommst du heute zu mir?",
            vietnamese: "Hôm nay bạn có đến chỗ tôi không?",
            tip: "🎯 'zu mir' = đến chỗ tôi. Giới từ 'zu' + Dativ (mir)",
          },
          {
            german: "Sprichst du heute sehr gut Deutsch mit deinem Lehrer?",
            vietnamese:
              "Hôm nay bạn có nói tiếng Đức rất tốt với giáo viên không?",
            tip: "🎯 'Deutsch' = tiếng Đức, không cần 'Sprache'. 'heute' và 'mit deinem Lehrer' (Dativ) bổ sung ngữ cảnh, 'sehr gut' nhấn mạnh kỹ năng",
          },
        ],
        wQuestions: [
          {
            german: "Wie heißt du denn bitte?",
            vietnamese: "Bạn tên gì vậy?",
            tip: "🎯 'Wie heißt du?' = tên gì. 'denn' làm câu hỏi thân thiện hơn, 'bitte' lịch sự",
          },
          {
            german: "Wo wohnst du in Deutschland?",
            vietnamese: "Bạn sống ở đâu ở Đức?",
            tip: "🎯 Wo = ở đâu (địa điểm tĩnh). 'in Deutschland' = ở Đức (Dativ)",
          },
          {
            german: "Was ist das für ein Auto?",
            vietnamese: "Chiếc xe đó là loại gì vậy?",
            tip: "🎯 'Was für ein' cần danh từ theo sau, ví dụ 'Auto' (chiếc xe). Câu hoàn chỉnh: 'Loại xe gì vậy?'",
          },
          {
            german: "Wann kommst du nach Hause?",
            vietnamese: "Khi nào bạn về nhà?",
            tip: "🎯 Wann = khi nào (thời gian). 'nach Hause' = về nhà (cố định)",
          },
          {
            german: "Wer ist deine beste Freundin?",
            vietnamese: "Ai là bạn thân nhất của bạn?",
            tip: "🎯 Wer = ai (hỏi về người). 'beste' = tốt nhất (tính từ so sánh)",
          },
        ],
        imperative: [
          {
            german: "Geh bitte sofort nach Hause!",
            vietnamese: "Hãy đi về nhà ngay lập tức nhé!",
            tip: "🎯 Du-Form: gehen → Geh. 'sofort' = ngay lập tức. 'bitte' làm câu lịch sự",
          },
          {
            german: "Sprechen Sie bitte etwas lauter!",
            vietnamese: "Làm ơn nói to hơn một chút!",
            tip: "🎯 Sie-Form lịch sự: Động từ + Sie. 'etwas lauter' = to hơn một chút",
          },
          {
            german: "Macht jetzt eure Hausaufgaben fertig!",
            vietnamese: "Hãy hoàn thành bài tập về nhà của các em ngay!",
            tip: "🎯 Ihr-Form: machen → macht. 'eure Hausaufgaben' = bài tập của các em",
          },
          {
            german: "Komm bitte schnell herüber!",
            vietnamese: "Hãy đến đây nhanh lên!",
            tip: "🎯 'herüber' = đến đây (từ xa). 'schnell' = nhanh chóng",
          },
          {
            german: "Sei ruhig, wenn du nach Hause kommst!",
            vietnamese: "Hãy im lặng khi con về đến nhà!",
            tip: "🎯 sein → sei (đặc biệt). 'ruhig' = im lặng. 'wenn' = khi",
          },
        ],
      };

      // Quiz state
      let currentQuiz = null;
      let currentQuestionIndex = 0;
      let score = 0;
      let answered = false;

      // Initialize the app
      function init() {
        loadReviewContent();
      }

      // Load review content
      function loadReviewContent() {
        loadSentences("imperative-sentences", data.imperative);
        loadSentences("modal-sentences", data.modal);
        loadSentences("separable-sentences", data.separable);
        loadSentences("yes-no-questions", data.yesNoQuestions);
        loadSentences("w-questions", data.wQuestions);
      }

      function loadSentences(containerId, sentences) {
        const container = document.getElementById(containerId);
        container.innerHTML = sentences
          .map(
            (sentence, index) => `
                <div class="sentence-card" onclick="speakGerman('${sentence.german}')">
                    <div class="german-text">${sentence.german}</div>
                    <div class="vietnamese-text">${sentence.vietnamese}</div>
                    <div class="sentence-tip">${sentence.tip}</div>
                </div>
            `
          )
          .join("");
      }

      // Text-to-speech for German
      function speakGerman(text) {
        if ("speechSynthesis" in window) {
          const utterance = new SpeechSynthesisUtterance(text);
          utterance.lang = "de-DE";
          utterance.rate = 0.8;
          speechSynthesis.speak(utterance);
        }
      }

      // Show different sections
      function showSection(sectionId) {
        // Update nav tabs
        document
          .querySelectorAll(".nav-tab")
          .forEach((tab) => tab.classList.remove("active"));
        event.target.classList.add("active");

        // Hide all sections
        document
          .querySelectorAll(".section")
          .forEach((section) => section.classList.remove("active"));

        // Show selected section
        document.getElementById(sectionId).classList.add("active");

        // Initialize quiz if needed
        if (sectionId.startsWith("quiz-")) {
          initQuiz(sectionId);
        }
      }

      // Initialize quiz
      function initQuiz(quizType) {
        let quizData = [];

        switch (quizType) {
          case "quiz-imperative":
            quizData = data.imperative;
            break;
          case "quiz-modal":
            quizData = data.modal;
            break;
          case "quiz-separable":
            quizData = data.separable;
            break;
          case "quiz-questions":
            quizData = [...data.yesNoQuestions, ...data.wQuestions];
            break;
          case "quiz-all":
            quizData = [
              ...data.imperative,
              ...data.modal,
              ...data.separable,
              ...data.yesNoQuestions,
              ...data.wQuestions,
            ];
            break;
        }

        currentQuiz = shuffleArray([...quizData]);
        currentQuestionIndex = 0;
        score = 0;
        answered = false;

        showQuestion(quizType);
      }

      // Shuffle array
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      // Show current question
      function showQuestion(quizType) {
        if (currentQuestionIndex >= currentQuiz.length) {
          showResults(quizType);
          return;
        }

        const question = currentQuiz[currentQuestionIndex];
        const container = document.getElementById(quizType + "-content");

        const progressPercent =
          (currentQuestionIndex / currentQuiz.length) * 100;

        container.innerHTML = `
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${progressPercent}%"></div>
                </div>
                <div class="score">Điểm: ${score}/${currentQuestionIndex}</div>
                <div class="quiz-card">
                    <div class="quiz-question">${question.vietnamese}</div>
                    <input type="text" class="quiz-answer" id="answer-input" placeholder="Nhập câu tiếng Đức..." />
                    <br>
                    <button class="btn" onclick="checkAnswer('${quizType}')">Kiểm tra</button>
                    <button class="btn" onclick="showHint('${question.german}')">Gợi ý</button>
                    <button class="btn" onclick="speakGerman('${question.german}')">🔊 Nghe</button>
                </div>
            `;

        // Focus on input
        setTimeout(() => {
          document.getElementById("answer-input").focus();
        }, 100);

        // Add enter key listener
        document
          .getElementById("answer-input")
          .addEventListener("keypress", function (e) {
            if (e.key === "Enter") {
              checkAnswer(quizType);
            }
          });

        answered = false;
      }

      // Check answer
      function checkAnswer(quizType) {
        if (answered) return;

        const userAnswer = document.getElementById("answer-input").value.trim();
        const correctAnswer = currentQuiz[currentQuestionIndex].german;

        const answerInput = document.getElementById("answer-input");
        const container = document.getElementById(quizType + "-content");

        // Simple comparison (remove punctuation and convert to lowercase)
        const normalizeString = (str) =>
          str
            .toLowerCase()
            .replace(/[.,!?]/g, "")
            .trim();
        const isCorrect =
          normalizeString(userAnswer) === normalizeString(correctAnswer);

        if (isCorrect) {
          score++;
          answerInput.classList.add("correct");
          answerInput.value = correctAnswer;
        } else {
          answerInput.classList.add("incorrect");
          answerInput.value = `❌ ${userAnswer} → ✅ ${correctAnswer}`;
        }

        answered = true;

        // Show next button after 2 seconds
        setTimeout(() => {
          const nextButton = `<button class="btn" onclick="nextQuestion('${quizType}')">${
            currentQuestionIndex + 1 < currentQuiz.length
              ? "Câu tiếp theo"
              : "Xem kết quả"
          }</button>`;
          container.innerHTML += nextButton;
        }, 2000);
      }

      // Show hint
      function showHint(answer) {
        const firstWord = answer.split(" ")[0];
        document.getElementById("answer-input").value = firstWord + "...";
      }

      // Next question
      function nextQuestion(quizType) {
        currentQuestionIndex++;
        showQuestion(quizType);
      }

      // Show results
      function showResults(quizType) {
        const container = document.getElementById(quizType + "-content");
        const percentage = Math.round((score / currentQuiz.length) * 100);

        let message = "";
        let emoji = "";

        if (percentage >= 90) {
          message = "Xuất sắc! Bạn đã thành thạo ngữ pháp này!";
          emoji = "🏆";
        } else if (percentage >= 70) {
          message = "Tốt lắm! Bạn đã hiểu khá tốt.";
          emoji = "👏";
        } else if (percentage >= 50) {
          message = "Khá ổn! Hãy luyện tập thêm nhé.";
          emoji = "💪";
        } else {
          message = "Đừng nản lòng! Hãy ôn tập và thử lại.";
          emoji = "📚";
        }

        container.innerHTML = `
                <div class="quiz-card">
                    <div style="font-size: 4em; margin-bottom: 20px;">${emoji}</div>
                    <div style="font-size: 2em; margin-bottom: 20px;">Kết quả</div>
                    <div style="font-size: 3em; margin-bottom: 20px; font-weight: bold;">${score}/${currentQuiz.length}</div>
                    <div style="font-size: 2em; margin-bottom: 20px;">${percentage}%</div>
                    <div style="font-size: 1.3em; margin-bottom: 30px;">${message}</div>
                    <button class="btn" onclick="initQuiz('${quizType}')">Làm lại</button>
                    <button class="btn" onclick="showSection('review')">Quay về ôn tập</button>
                </div>
            `;
      }

      // Initialize app when page loads
      window.onload = init;
    </script>
  </body>
</html>
